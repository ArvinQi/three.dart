        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>three Library / Dart Documentation</title>
        <link rel="stylesheet" type="text/css"
            href="styles.css">
        <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="favicon.ico">
        
        </head>
        <body data-library="three">
        <div class="page">
        <div class="header">
          <a href="index.html"><div class="logo"></div></a>
          <a href="index.html">Dart Documentation</a>
         &rsaquo; <a href="three.html">three</a>        <div id="search-box">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </div>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
<h2><div class="icon-library"></div><a href="CurveUtils.html">CurveUtils</a></h2><h2><div class="icon-library"></div><a href="FirstPersonControls.html">FirstPersonControls</a></h2><h2><div class="icon-library"></div><a href="FontUtils.html">FontUtils</a></h2><h2><div class="icon-library"></div><a href="GeometryUtils.html">GeometryUtils</a></h2><h2><div class="icon-library"></div><a href="ImageUtils.html">ImageUtils</a></h2><h2><div class="icon-library"></div><a href="SceneUtils.html">SceneUtils</a></h2><h2><div class="icon-library"></div><a href="ShaderUtils.html">ShaderUtils</a></h2><h2><div class="icon-library"></div><a href="ShapeUtils.html">ShapeUtils</a></h2><h2><div class="icon-library"></div><strong>three</strong></h2><ul class="icon">
<li><a href="three/AmbientLight.html"><div class="icon-class"></div>AmbientLight</a></li>
<li><a href="three/ArcCurve.html"><div class="icon-class"></div>ArcCurve</a></li>
<li><a href="three/ArrowHelper.html"><div class="icon-class"></div>ArrowHelper</a></li>
<li><a href="three/Attribute.html"><div class="icon-class"></div>Attribute&lt;T&gt;</a></li>
<li><a href="three/AxisHelper.html"><div class="icon-class"></div>AxisHelper</a></li>
<li><a href="three/Bone.html"><div class="icon-class"></div>Bone</a></li>
<li><a href="three/BoundingBox.html"><div class="icon-class"></div>BoundingBox</a></li>
<li><a href="three/BoundingSphere.html"><div class="icon-class"></div>BoundingSphere</a></li>
<li><a href="three/Buffer.html"><div class="icon-class"></div>Buffer</a></li>
<li><a href="three/BufferGeometry.html"><div class="icon-class"></div>BufferGeometry</a></li>
<li><a href="three/Camera.html"><div class="icon-class"></div>Camera</a></li>
<li><a href="three/CameraHelper.html"><div class="icon-class"></div>CameraHelper</a></li>
<li><a href="three/CanvasRenderData.html"><div class="icon-class"></div>CanvasRenderData</a></li>
<li><a href="three/CanvasRenderer.html"><div class="icon-class"></div>CanvasRenderer</a></li>
<li><a href="three/Chunk.html"><div class="icon-class"></div>Chunk</a></li>
<li><a href="three/CircleGeometry.html"><div class="icon-class"></div>CircleGeometry</a></li>
<li><a href="three/ClosedSplineCurve3.html"><div class="icon-class"></div>ClosedSplineCurve3</a></li>
<li><a href="three/Color.html"><div class="icon-class"></div>Color</a></li>
<li><a href="three/CompressedTexture.html"><div class="icon-class"></div>CompressedTexture</a></li>
<li><a href="three/ConvexGeometry.html"><div class="icon-class"></div>ConvexGeometry</a></li>
<li><a href="three/CSS3DObject.html"><div class="icon-class"></div>CSS3DObject</a></li>
<li><a href="three/CSS3DRenderer.html"><div class="icon-class"></div>CSS3DRenderer</a></li>
<li><a href="three/CubeGeometry.html"><div class="icon-class"></div>CubeGeometry</a></li>
<li><a href="three/CubeGeomSides.html"><div class="icon-class"></div>CubeGeomSides</a></li>
<li><a href="three/CubeReflectionMapping.html"><div class="icon-class"></div>CubeReflectionMapping</a></li>
<li><a href="three/CubeRefractionMapping.html"><div class="icon-class"></div>CubeRefractionMapping</a></li>
<li><a href="three/CubicBezierCurve.html"><div class="icon-class"></div>CubicBezierCurve</a></li>
<li><a href="three/CubicBezierCurve3.html"><div class="icon-class"></div>CubicBezierCurve3</a></li>
<li><a href="three/Curve.html"><div class="icon-class"></div>Curve&lt;V&gt;</a></li>
<li><a href="three/Curve2D.html"><div class="icon-class"></div>Curve2D</a></li>
<li><a href="three/Curve3D.html"><div class="icon-class"></div>Curve3D</a></li>
<li><a href="three/CurvePath.html"><div class="icon-class"></div>CurvePath</a></li>
<li><a href="three/CylinderGeometry.html"><div class="icon-class"></div>CylinderGeometry</a></li>
<li><a href="three/DataTexture.html"><div class="icon-class"></div>DataTexture</a></li>
<li><a href="three/DirectionalLight.html"><div class="icon-class"></div>DirectionalLight</a></li>
<li><a href="three/EllipseCurve.html"><div class="icon-class"></div>EllipseCurve</a></li>
<li><a href="three/EventEmitter.html"><div class="icon-class"></div>EventEmitter</a></li>
<li><a href="three/EventEmitterEvent.html"><div class="icon-class"></div>EventEmitterEvent</a></li>
<li><a href="three/ExtrudeGeometry.html"><div class="icon-class"></div>ExtrudeGeometry</a></li>
<li><a href="three/ExtrudeGeometryWorldUVGenerator.html"><div class="icon-class"></div>ExtrudeGeometryWorldUVGenerator</a></li>
<li><a href="three/Face.html"><div class="icon-class"></div>Face</a></li>
<li><a href="three/Face3.html"><div class="icon-class"></div>Face3</a></li>
<li><a href="three/Face4.html"><div class="icon-class"></div>Face4</a></li>
<li><a href="three/Fog.html"><div class="icon-class"></div>Fog</a></li>
<li><a href="three/FogExp2.html"><div class="icon-class"></div>FogExp2</a></li>
<li><a href="three/FogLinear.html"><div class="icon-class"></div>FogLinear</a></li>
<li><a href="three/Frustum.html"><div class="icon-class"></div>Frustum</a></li>
<li><a href="three/Geometry.html"><div class="icon-class"></div>Geometry</a></li>
<li><a href="three/GeometryAttribute.html"><div class="icon-class"></div>GeometryAttribute&lt;T&gt;</a></li>
<li><a href="three/Gyroscope.html"><div class="icon-class"></div>Gyroscope</a></li>
<li><a href="three/HemisphereLight.html"><div class="icon-class"></div>HemisphereLight</a></li>
<li><a href="three/IcosahedronGeometry.html"><div class="icon-class"></div>IcosahedronGeometry</a></li>
<li><a href="three/ImageList.html"><div class="icon-class"></div>ImageList</a></li>
<li><a href="three/ImageLoader.html"><div class="icon-class"></div>ImageLoader</a></li>
<li><a href="three/IMaterial.html"><div class="icon-class"></div>IMaterial</a></li>
<li><a href="three/ImmediateRenderObject.html"><div class="icon-class"></div>ImmediateRenderObject</a></li>
<li><a href="three/Intersect.html"><div class="icon-class"></div>Intersect</a></li>
<li><a href="three/IParticleMaterial.html"><div class="icon-class"></div>IParticleMaterial</a></li>
<li><a href="three/IRenderable.html"><div class="icon-class"></div>IRenderable</a></li>
<li><a href="three/ITextureMapMaterial.html"><div class="icon-class"></div>ITextureMapMaterial</a></li>
<li><a href="three/JSONLoader.html"><div class="icon-class"></div>JSONLoader</a></li>
<li><a href="three/LatheGeometry.html"><div class="icon-class"></div>LatheGeometry</a></li>
<li><a href="three/LensFlare.html"><div class="icon-class"></div>LensFlare</a></li>
<li><a href="three/Light.html"><div class="icon-class"></div>Light</a></li>
<li><a href="three/Line.html"><div class="icon-class"></div>Line</a></li>
<li><a href="three/LineBasicMaterial.html"><div class="icon-class"></div>LineBasicMaterial</a></li>
<li><a href="three/LineCurve.html"><div class="icon-class"></div>LineCurve</a></li>
<li><a href="three/LineCurve3.html"><div class="icon-class"></div>LineCurve3</a></li>
<li><a href="three/LoadCompleteCallback.html"><div class="icon-interface"></div>LoadCompleteCallback</a></li>
<li><a href="three/LoadedCallback.html"><div class="icon-interface"></div>LoadedCallback</a></li>
<li><a href="three/Loader.html"><div class="icon-class"></div>Loader</a></li>
<li><a href="three/LoadProgressCallback.html"><div class="icon-interface"></div>LoadProgressCallback</a></li>
<li><a href="three/LoadStartCallback.html"><div class="icon-interface"></div>LoadStartCallback</a></li>
<li><a href="three/LOD.html"><div class="icon-class"></div>LOD</a></li>
<li><a href="three/Material.html"><div class="icon-class"></div>Material</a></li>
<li><a href="three/Mesh.html"><div class="icon-class"></div>Mesh</a></li>
<li><a href="three/MeshBasicMaterial.html"><div class="icon-class"></div>MeshBasicMaterial</a></li>
<li><a href="three/MeshDepthMaterial.html"><div class="icon-class"></div>MeshDepthMaterial</a></li>
<li><a href="three/MeshFaceMaterial.html"><div class="icon-class"></div>MeshFaceMaterial</a></li>
<li><a href="three/MeshLambertMaterial.html"><div class="icon-class"></div>MeshLambertMaterial</a></li>
<li><a href="three/MeshNormalMaterial.html"><div class="icon-class"></div>MeshNormalMaterial</a></li>
<li><a href="three/MeshPhongMaterial.html"><div class="icon-class"></div>MeshPhongMaterial</a></li>
<li><a href="three/MorphAnimMesh.html"><div class="icon-class"></div>MorphAnimMesh</a></li>
<li><a href="three/MorphColors.html"><div class="icon-class"></div>MorphColors</a></li>
<li><a href="three/MorphTarget.html"><div class="icon-class"></div>MorphTarget</a></li>
<li><a href="three/Object3D.html"><div class="icon-class"></div>Object3D</a></li>
<li><a href="three/OctahedronGeometry.html"><div class="icon-class"></div>OctahedronGeometry</a></li>
<li><a href="three/OrthographicCamera.html"><div class="icon-class"></div>OrthographicCamera</a></li>
<li><a href="three/ParametricGeometry.html"><div class="icon-class"></div>ParametricGeometry</a></li>
<li><a href="three/Particle.html"><div class="icon-class"></div>Particle</a></li>
<li><a href="three/ParticleBasicMaterial.html"><div class="icon-class"></div>ParticleBasicMaterial</a></li>
<li><a href="three/ParticleCanvasMaterial.html"><div class="icon-class"></div>ParticleCanvasMaterial</a></li>
<li><a href="three/ParticleCanvasMaterialProgram.html"><div class="icon-interface"></div>ParticleCanvasMaterialProgram</a></li>
<li><a href="three/ParticleSystem.html"><div class="icon-class"></div>ParticleSystem</a></li>
<li><a href="three/Path.html"><div class="icon-class"></div>Path</a></li>
<li><a href="three/PathAction.html"><div class="icon-class"></div>PathAction</a></li>
<li><a href="three/PerspectiveCamera.html"><div class="icon-class"></div>PerspectiveCamera</a></li>
<li><a href="three/PlaneGeometry.html"><div class="icon-class"></div>PlaneGeometry</a></li>
<li><a href="three/PointLight.html"><div class="icon-class"></div>PointLight</a></li>
<li><a href="three/PolyhedronGeometry.html"><div class="icon-class"></div>PolyhedronGeometry</a></li>
<li><a href="three/PolyhedronGeometryVertex.html"><div class="icon-class"></div>PolyhedronGeometryVertex</a></li>
<li><a href="three/Program.html"><div class="icon-class"></div>Program</a></li>
<li><a href="three/Projector.html"><div class="icon-class"></div>Projector</a></li>
<li><a href="three/ProjectorRenderData.html"><div class="icon-class"></div>ProjectorRenderData</a></li>
<li><a href="three/QuadraticBezierCurve.html"><div class="icon-class"></div>QuadraticBezierCurve</a></li>
<li><a href="three/QuadraticBezierCurve3.html"><div class="icon-class"></div>QuadraticBezierCurve3</a></li>
<li><a href="three/Ray.html"><div class="icon-class"></div>Ray</a></li>
<li><a href="three/Rectangle.html"><div class="icon-class"></div>Rectangle</a></li>
<li><a href="three/RenderableFace.html"><div class="icon-class"></div>RenderableFace</a></li>
<li><a href="three/RenderableFace3.html"><div class="icon-class"></div>RenderableFace3</a></li>
<li><a href="three/RenderableFace4.html"><div class="icon-class"></div>RenderableFace4</a></li>
<li><a href="three/RenderableLine.html"><div class="icon-class"></div>RenderableLine</a></li>
<li><a href="three/RenderableObject.html"><div class="icon-class"></div>RenderableObject</a></li>
<li><a href="three/RenderableParticle.html"><div class="icon-class"></div>RenderableParticle</a></li>
<li><a href="three/RenderableVertex.html"><div class="icon-class"></div>RenderableVertex</a></li>
<li><a href="three/Renderer.html"><div class="icon-class"></div>Renderer</a></li>
<li><a href="three/RenderInts.html"><div class="icon-class"></div>RenderInts</a></li>
<li><a href="three/Ribbon.html"><div class="icon-class"></div>Ribbon</a></li>
<li><a href="three/Scene.html"><div class="icon-class"></div>Scene</a></li>
<li><a href="three/ShaderMaterial.html"><div class="icon-class"></div>ShaderMaterial</a></li>
<li><a href="three/ShadowCaster.html"><div class="icon-class"></div>ShadowCaster</a></li>
<li><a href="three/ShadowMapPlugin.html"><div class="icon-class"></div>ShadowMapPlugin</a></li>
<li><a href="three/Shape.html"><div class="icon-class"></div>Shape</a></li>
<li><a href="three/ShapeGeometry.html"><div class="icon-class"></div>ShapeGeometry</a></li>
<li><a href="three/SkinnedMesh.html"><div class="icon-class"></div>SkinnedMesh</a></li>
<li><a href="three/SphereGeometry.html"><div class="icon-class"></div>SphereGeometry</a></li>
<li><a href="three/SphericalReflectionMapping.html"><div class="icon-class"></div>SphericalReflectionMapping</a></li>
<li><a href="three/SphericalRefractionMapping.html"><div class="icon-class"></div>SphericalRefractionMapping</a></li>
<li><a href="three/SplineCurve.html"><div class="icon-class"></div>SplineCurve</a></li>
<li><a href="three/SplineCurve3.html"><div class="icon-class"></div>SplineCurve3</a></li>
<li><a href="three/SpotLight.html"><div class="icon-class"></div>SpotLight</a></li>
<li><a href="three/Sprite.html"><div class="icon-class"></div>Sprite</a></li>
<li><a href="three/SpriteAlignment.html"><div class="icon-class"></div>SpriteAlignment</a></li>
<li><a href="three/TetrahedronGeometry.html"><div class="icon-class"></div>TetrahedronGeometry</a></li>
<li><a href="three/TextGeometry.html"><div class="icon-class"></div>TextGeometry</a></li>
<li><a href="three/Texture.html"><div class="icon-class"></div>Texture</a></li>
<li><a href="three/TorusGeometry.html"><div class="icon-class"></div>TorusGeometry</a></li>
<li><a href="three/TorusKnotGeometry.html"><div class="icon-class"></div>TorusKnotGeometry</a></li>
<li><a href="three/TubeGeometry.html"><div class="icon-class"></div>TubeGeometry</a></li>
<li><a href="three/Uniform.html"><div class="icon-class"></div>Uniform&lt;T&gt;</a></li>
<li><a href="three/UniformsUtils.html"><div class="icon-class"></div>UniformsUtils</a></li>
<li><a href="three/UV.html"><div class="icon-class"></div>UV</a></li>
<li><a href="three/UVMapping.html"><div class="icon-class"></div>UVMapping</a></li>
<li><a href="three/VirtualLight.html"><div class="icon-class"></div>VirtualLight</a></li>
<li><a href="three/WebGLCamera.html"><div class="icon-class"></div>WebGLCamera</a></li>
<li><a href="three/WebGLGeometry.html"><div class="icon-class"></div>WebGLGeometry</a></li>
<li><a href="three/WebGLImageList.html"><div class="icon-class"></div>WebGLImageList</a></li>
<li><a href="three/WebGLMaterial.html"><div class="icon-class"></div>WebGLMaterial</a></li>
<li><a href="three/WebGLObject.html"><div class="icon-class"></div>WebGLObject</a></li>
<li><a href="three/WebGLRenderer.html"><div class="icon-class"></div>WebGLRenderer</a></li>
<li><a href="three/WebGLRendererInfo.html"><div class="icon-class"></div>WebGLRendererInfo</a></li>
<li><a href="three/WebGLRendererMemoryInfo.html"><div class="icon-class"></div>WebGLRendererMemoryInfo</a></li>
<li><a href="three/WebGLRendererRenderInfo.html"><div class="icon-class"></div>WebGLRendererRenderInfo</a></li>
<li><a href="three/WebGLRenderTarget.html"><div class="icon-class"></div>WebGLRenderTarget</a></li>
<li><a href="three/WebGLRenderTargetCube.html"><div class="icon-class"></div>WebGLRenderTargetCube</a></li>
</ul>
<h2><div class="icon-library"></div><a href="ThreeMath.html">ThreeMath</a></h2><h2><div class="icon-library"></div><a href="TrackballControls.html">TrackballControls</a></h2><h2><div class="icon-library"></div><a href="tween.html">tween</a></h2><h2><div class="icon-library"></div><a href="vector_math.html">vector_math</a></h2></div>
<div class="content">
<h2><strong>three</strong> library</h2>
<h3>Exports</h3>
<ul>
<ul><a href="ThreeMath.html">ThreeMath</a></ul>
</ul>
<div>
<h3>Properties</h3>
<div class="field"><h4 id="AddEquation">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>AddEquation</strong> <a class="anchor-link"
            href="#AddEquation"
            title="Permalink to AddEquation">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int AddEquation = 100
</pre>
</div>
</div>
<div class="field"><h4 id="AdditiveBlending">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>AdditiveBlending</strong> <a class="anchor-link"
            href="#AdditiveBlending"
            title="Permalink to AdditiveBlending">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int AdditiveBlending = 2
</pre>
</div>
</div>
<div class="field"><h4 id="AlphaFormat">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>AlphaFormat</strong> <a class="anchor-link"
            href="#AlphaFormat"
            title="Permalink to AlphaFormat">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int AlphaFormat = 16
</pre>
</div>
</div>
<div class="field"><h4 id="BackSide">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>BackSide</strong> <a class="anchor-link"
            href="#BackSide"
            title="Permalink to BackSide">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int BackSide = 1
</pre>
</div>
</div>
<div class="field"><h4 id="BasicShadowMap">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>BasicShadowMap</strong> <a class="anchor-link"
            href="#BasicShadowMap"
            title="Permalink to BasicShadowMap">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int BasicShadowMap = 0
</pre>
</div>
</div>
<div class="field"><h4 id="ByteType">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>ByteType</strong> <a class="anchor-link"
            href="#ByteType"
            title="Permalink to ByteType">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int ByteType = 9
</pre>
</div>
</div>
<div class="field"><h4 id="ClampToEdgeWrapping">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>ClampToEdgeWrapping</strong> <a class="anchor-link"
            href="#ClampToEdgeWrapping"
            title="Permalink to ClampToEdgeWrapping">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int ClampToEdgeWrapping = 1
</pre>
</div>
</div>
<div class="field"><h4 id="CullFaceBack">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>CullFaceBack</strong> <a class="anchor-link"
            href="#CullFaceBack"
            title="Permalink to CullFaceBack">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int CullFaceBack = 1
</pre>
</div>
</div>
<div class="field"><h4 id="CullFaceFront">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>CullFaceFront</strong> <a class="anchor-link"
            href="#CullFaceFront"
            title="Permalink to CullFaceFront">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int CullFaceFront = 2
</pre>
</div>
</div>
<div class="field"><h4 id="CullFaceFrontBack">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>CullFaceFrontBack</strong> <a class="anchor-link"
            href="#CullFaceFrontBack"
            title="Permalink to CullFaceFrontBack">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int CullFaceFrontBack = 3
</pre>
</div>
</div>
<div class="field"><h4 id="CullFaceNone">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>CullFaceNone</strong> <a class="anchor-link"
            href="#CullFaceNone"
            title="Permalink to CullFaceNone">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int CullFaceNone = 0
</pre>
</div>
</div>
<div class="field"><h4 id="CustomBlending">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>CustomBlending</strong> <a class="anchor-link"
            href="#CustomBlending"
            title="Permalink to CustomBlending">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int CustomBlending = 5
</pre>
</div>
</div>
<div class="field"><h4 id="DoubleSide">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>DoubleSide</strong> <a class="anchor-link"
            href="#DoubleSide"
            title="Permalink to DoubleSide">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int DoubleSide = 2
</pre>
</div>
</div>
<div class="field"><h4 id="DstAlphaFactor">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>DstAlphaFactor</strong> <a class="anchor-link"
            href="#DstAlphaFactor"
            title="Permalink to DstAlphaFactor">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int DstAlphaFactor = 206
</pre>
</div>
</div>
<div class="field"><h4 id="DstColorFactor">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>DstColorFactor</strong> <a class="anchor-link"
            href="#DstColorFactor"
            title="Permalink to DstColorFactor">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int DstColorFactor = 208
</pre>
</div>
</div>
<div class="field"><h4 id="FaceColors">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>FaceColors</strong> <a class="anchor-link"
            href="#FaceColors"
            title="Permalink to FaceColors">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int FaceColors = 1
</pre>
</div>
</div>
<div class="field"><h4 id="FlatShading">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>FlatShading</strong> <a class="anchor-link"
            href="#FlatShading"
            title="Permalink to FlatShading">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int FlatShading = 1
</pre>
</div>
</div>
<div class="field"><h4 id="FloatType">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>FloatType</strong> <a class="anchor-link"
            href="#FloatType"
            title="Permalink to FloatType">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int FloatType = 15
</pre>
</div>
</div>
<div class="field"><h4 id="FrontFaceDirectionCCW">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>FrontFaceDirectionCCW</strong> <a class="anchor-link"
            href="#FrontFaceDirectionCCW"
            title="Permalink to FrontFaceDirectionCCW">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int FrontFaceDirectionCCW = 1
</pre>
</div>
</div>
<div class="field"><h4 id="FrontFaceDirectionCW">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>FrontFaceDirectionCW</strong> <a class="anchor-link"
            href="#FrontFaceDirectionCW"
            title="Permalink to FrontFaceDirectionCW">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int FrontFaceDirectionCW = 0
</pre>
</div>
</div>
<div class="field"><h4 id="FrontSide">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>FrontSide</strong> <a class="anchor-link"
            href="#FrontSide"
            title="Permalink to FrontSide">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int FrontSide = 0
</pre>
</div>
</div>
<div class="field"><h4 id="GeometryCount">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>GeometryCount</strong> <a class="anchor-link"
            href="#GeometryCount"
            title="Permalink to GeometryCount">#</a>
        </h4>
        <div class="doc">
<pre class="source">
int GeometryCount = 0
</pre>
</div>
</div>
<div class="field"><h4 id="IntType">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>IntType</strong> <a class="anchor-link"
            href="#IntType"
            title="Permalink to IntType">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int IntType = 13
</pre>
</div>
</div>
<div class="field"><h4 id="LinearFilter">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>LinearFilter</strong> <a class="anchor-link"
            href="#LinearFilter"
            title="Permalink to LinearFilter">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int LinearFilter = 6
</pre>
</div>
</div>
<div class="field"><h4 id="LinearMipMapLinearFilter">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>LinearMipMapLinearFilter</strong> <a class="anchor-link"
            href="#LinearMipMapLinearFilter"
            title="Permalink to LinearMipMapLinearFilter">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int LinearMipMapLinearFilter = 8
</pre>
</div>
</div>
<div class="field"><h4 id="LinearMipMapNearestFilter">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>LinearMipMapNearestFilter</strong> <a class="anchor-link"
            href="#LinearMipMapNearestFilter"
            title="Permalink to LinearMipMapNearestFilter">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int LinearMipMapNearestFilter = 7
</pre>
</div>
</div>
<div class="field"><h4 id="LinePieces">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>LinePieces</strong> <a class="anchor-link"
            href="#LinePieces"
            title="Permalink to LinePieces">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int LinePieces = 1
</pre>
</div>
</div>
<div class="field"><h4 id="LineStrip">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>LineStrip</strong> <a class="anchor-link"
            href="#LineStrip"
            title="Permalink to LineStrip">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int LineStrip = 0
</pre>
</div>
</div>
<div class="field"><h4 id="LuminanceAlphaFormat">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>LuminanceAlphaFormat</strong> <a class="anchor-link"
            href="#LuminanceAlphaFormat"
            title="Permalink to LuminanceAlphaFormat">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int LuminanceAlphaFormat = 20
</pre>
</div>
</div>
<div class="field"><h4 id="LuminanceFormat">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>LuminanceFormat</strong> <a class="anchor-link"
            href="#LuminanceFormat"
            title="Permalink to LuminanceFormat">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int LuminanceFormat = 19
</pre>
</div>
</div>
<div class="field"><h4 id="MaterialCount">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>MaterialCount</strong> <a class="anchor-link"
            href="#MaterialCount"
            title="Permalink to MaterialCount">#</a>
        </h4>
        <div class="doc">
<pre class="source">
int MaterialCount = 0
</pre>
</div>
</div>
<div class="field"><h4 id="MirroredRepeatWrapping">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>MirroredRepeatWrapping</strong> <a class="anchor-link"
            href="#MirroredRepeatWrapping"
            title="Permalink to MirroredRepeatWrapping">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int MirroredRepeatWrapping = 2
</pre>
</div>
</div>
<div class="field"><h4 id="MixOperation">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>MixOperation</strong> <a class="anchor-link"
            href="#MixOperation"
            title="Permalink to MixOperation">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int MixOperation = 1
</pre>
</div>
</div>
<div class="field"><h4 id="MultiplyBlending">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>MultiplyBlending</strong> <a class="anchor-link"
            href="#MultiplyBlending"
            title="Permalink to MultiplyBlending">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int MultiplyBlending = 4
</pre>
</div>
</div>
<div class="field"><h4 id="MultiplyOperation">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>MultiplyOperation</strong> <a class="anchor-link"
            href="#MultiplyOperation"
            title="Permalink to MultiplyOperation">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int MultiplyOperation = 0
</pre>
</div>
</div>
<div class="field"><h4 id="NearestFilter">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>NearestFilter</strong> <a class="anchor-link"
            href="#NearestFilter"
            title="Permalink to NearestFilter">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int NearestFilter = 3
</pre>
</div>
</div>
<div class="field"><h4 id="NearestMipMapLinearFilter">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>NearestMipMapLinearFilter</strong> <a class="anchor-link"
            href="#NearestMipMapLinearFilter"
            title="Permalink to NearestMipMapLinearFilter">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int NearestMipMapLinearFilter = 5
</pre>
</div>
</div>
<div class="field"><h4 id="NearestMipMapNearestFilter">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>NearestMipMapNearestFilter</strong> <a class="anchor-link"
            href="#NearestMipMapNearestFilter"
            title="Permalink to NearestMipMapNearestFilter">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int NearestMipMapNearestFilter = 4
</pre>
</div>
</div>
<div class="field"><h4 id="NoBlending">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>NoBlending</strong> <a class="anchor-link"
            href="#NoBlending"
            title="Permalink to NoBlending">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int NoBlending = 0
</pre>
</div>
</div>
<div class="field"><h4 id="NoColors">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>NoColors</strong> <a class="anchor-link"
            href="#NoColors"
            title="Permalink to NoColors">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int NoColors = 0
</pre>
</div>
</div>
<div class="field"><h4 id="NormalBlending">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>NormalBlending</strong> <a class="anchor-link"
            href="#NormalBlending"
            title="Permalink to NormalBlending">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int NormalBlending = 1
</pre>
</div>
</div>
<div class="field"><h4 id="NoShading">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>NoShading</strong> <a class="anchor-link"
            href="#NoShading"
            title="Permalink to NoShading">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int NoShading = 0
</pre>
</div>
</div>
<div class="field"><h4 id="Object3DCount">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>Object3DCount</strong> <a class="anchor-link"
            href="#Object3DCount"
            title="Permalink to Object3DCount">#</a>
        </h4>
        <div class="doc">
<pre class="source">
int Object3DCount = 0
</pre>
</div>
</div>
<div class="field"><h4 id="OneFactor">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>OneFactor</strong> <a class="anchor-link"
            href="#OneFactor"
            title="Permalink to OneFactor">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int OneFactor = 201
</pre>
</div>
</div>
<div class="field"><h4 id="OneMinusDstAlphaFactor">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>OneMinusDstAlphaFactor</strong> <a class="anchor-link"
            href="#OneMinusDstAlphaFactor"
            title="Permalink to OneMinusDstAlphaFactor">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int OneMinusDstAlphaFactor = 207
</pre>
</div>
</div>
<div class="field"><h4 id="OneMinusDstColorFactor">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>OneMinusDstColorFactor</strong> <a class="anchor-link"
            href="#OneMinusDstColorFactor"
            title="Permalink to OneMinusDstColorFactor">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int OneMinusDstColorFactor = 209
</pre>
</div>
</div>
<div class="field"><h4 id="OneMinusSrcAlphaFactor">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>OneMinusSrcAlphaFactor</strong> <a class="anchor-link"
            href="#OneMinusSrcAlphaFactor"
            title="Permalink to OneMinusSrcAlphaFactor">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int OneMinusSrcAlphaFactor = 205
</pre>
</div>
</div>
<div class="field"><h4 id="OneMinusSrcColorFactor">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>OneMinusSrcColorFactor</strong> <a class="anchor-link"
            href="#OneMinusSrcColorFactor"
            title="Permalink to OneMinusSrcColorFactor">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int OneMinusSrcColorFactor = 203
</pre>
</div>
</div>
<div class="field"><h4 id="PCFShadowMap">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>PCFShadowMap</strong> <a class="anchor-link"
            href="#PCFShadowMap"
            title="Permalink to PCFShadowMap">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int PCFShadowMap = 1
</pre>
</div>
</div>
<div class="field"><h4 id="PCFSoftShadowMap">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>PCFSoftShadowMap</strong> <a class="anchor-link"
            href="#PCFSoftShadowMap"
            title="Permalink to PCFSoftShadowMap">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int PCFSoftShadowMap = 2
</pre>
</div>
</div>
<div class="field"><h4 id="RepeatWrapping">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>RepeatWrapping</strong> <a class="anchor-link"
            href="#RepeatWrapping"
            title="Permalink to RepeatWrapping">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int RepeatWrapping = 0
</pre>
</div>
</div>
<div class="field"><h4 id="ReverseSubtractEquation">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>ReverseSubtractEquation</strong> <a class="anchor-link"
            href="#ReverseSubtractEquation"
            title="Permalink to ReverseSubtractEquation">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int ReverseSubtractEquation = 102
</pre>
</div>
</div>
<div class="field"><h4 id="RGB_S3TC_DXT1_Format">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>RGB_S3TC_DXT1_Format</strong> <a class="anchor-link"
            href="#RGB_S3TC_DXT1_Format"
            title="Permalink to RGB_S3TC_DXT1_Format">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int RGB_S3TC_DXT1_Format = 2001
</pre>
</div>
</div>
<div class="field"><h4 id="RGBA_S3TC_DXT1_Format">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>RGBA_S3TC_DXT1_Format</strong> <a class="anchor-link"
            href="#RGBA_S3TC_DXT1_Format"
            title="Permalink to RGBA_S3TC_DXT1_Format">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int RGBA_S3TC_DXT1_Format = 2002
</pre>
</div>
</div>
<div class="field"><h4 id="RGBA_S3TC_DXT3_Format">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>RGBA_S3TC_DXT3_Format</strong> <a class="anchor-link"
            href="#RGBA_S3TC_DXT3_Format"
            title="Permalink to RGBA_S3TC_DXT3_Format">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int RGBA_S3TC_DXT3_Format = 2003
</pre>
</div>
</div>
<div class="field"><h4 id="RGBA_S3TC_DXT5_Format">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>RGBA_S3TC_DXT5_Format</strong> <a class="anchor-link"
            href="#RGBA_S3TC_DXT5_Format"
            title="Permalink to RGBA_S3TC_DXT5_Format">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int RGBA_S3TC_DXT5_Format = 2004
</pre>
</div>
</div>
<div class="field"><h4 id="RGBAFormat">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>RGBAFormat</strong> <a class="anchor-link"
            href="#RGBAFormat"
            title="Permalink to RGBAFormat">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int RGBAFormat = 18
</pre>
</div>
</div>
<div class="field"><h4 id="RGBFormat">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>RGBFormat</strong> <a class="anchor-link"
            href="#RGBFormat"
            title="Permalink to RGBFormat">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int RGBFormat = 17
</pre>
</div>
</div>
<div class="field"><h4 id="ShaderChunk">
<button class="show-code">Code</button>
final         <strong>ShaderChunk</strong> <a class="anchor-link"
            href="#ShaderChunk"
            title="Permalink to ShaderChunk">#</a>
        </h4>
        <div class="doc">
<pre class="source">
get ShaderChunk  {
 if (__ShaderChunk == null) {
   __ShaderChunk = {
// FOG

 "fog_pars_fragment": [

   "#ifdef USE_FOG",

     "uniform vec3 fogColor;",

     "#ifdef FOG_EXP2",

       "uniform float fogDensity;",

     "#else",

       "uniform float fogNear;",
       "uniform float fogFar;",

     "#endif",

   "#endif"

 ].join("\n"),

 "fog_fragment": [

   "#ifdef USE_FOG",

     "float depth = gl_FragCoord.z / gl_FragCoord.w;",

     "#ifdef FOG_EXP2",

       "const float LOG2 = 1.442695;",
       "float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );",
       "fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );",

     "#else",

       "float fogFactor = smoothstep( fogNear, fogFar, depth );",

     "#endif",

     "gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );",

   "#endif"

 ].join("\n"),

 // ENVIRONMENT MAP

 "envmap_pars_fragment": [

   "#ifdef USE_ENVMAP",

     "uniform float reflectivity;",
     "uniform samplerCube envMap;",
     "uniform float flipEnvMap;",
     "uniform int combine;",

     "#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )",

       "uniform bool useRefract;",
       "uniform float refractionRatio;",

     "#else",

       "varying vec3 vReflect;",

     "#endif",

   "#endif"

 ].join("\n"),

 "envmap_fragment": [

   "#ifdef USE_ENVMAP",

     "vec3 reflectVec;",

     "#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )",

       "vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );",

       "if ( useRefract ) {",

         "reflectVec = refract( cameraToVertex, normal, refractionRatio );",

       "} else { ",

         "reflectVec = reflect( cameraToVertex, normal );",

       "}",

     "#else",

       "reflectVec = vReflect;",

     "#endif",

     "#ifdef DOUBLE_SIDED",

       "float flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );",
       "vec4 cubeColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );",

     "#else",

       "vec4 cubeColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );",

     "#endif",

     "#ifdef GAMMA_INPUT",

       "cubeColor.xyz *= cubeColor.xyz;",

     "#endif",

     "if ( combine == 1 ) {",

       "gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularStrength * reflectivity );",

     "} else if ( combine == 2 ) {",

       "gl_FragColor.xyz += cubeColor.xyz * specularStrength * reflectivity;",

     "} else {",

       "gl_FragColor.xyz = mix( gl_FragColor.xyz, gl_FragColor.xyz * cubeColor.xyz, specularStrength * reflectivity );",

     "}",

   "#endif"

 ].join("\n"),

 "envmap_pars_vertex": [

   "#if defined( USE_ENVMAP ) &amp;&amp; ! defined( USE_BUMPMAP ) &amp;&amp; ! defined( USE_NORMALMAP )",

     "varying vec3 vReflect;",

     "uniform float refractionRatio;",
     "uniform bool useRefract;",

   "#endif"

 ].join("\n"),

 "worldpos_vertex" : [

   "#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )",

     "#ifdef USE_SKINNING",

       "vec4 worldPosition = modelMatrix * skinned;",

     "#endif",

     "#if defined( USE_MORPHTARGETS ) &amp;&amp; ! defined( USE_SKINNING )",

       "vec4 worldPosition = modelMatrix * vec4( morphed, 1.0 );",

     "#endif",

     "#if ! defined( USE_MORPHTARGETS ) &amp;&amp; ! defined( USE_SKINNING )",

       "vec4 worldPosition = modelMatrix * vec4( position, 1.0 );",

     "#endif",

   "#endif"

 ].join("\n"),

 "envmap_vertex" : [

   "#if defined( USE_ENVMAP ) &amp;&amp; ! defined( USE_BUMPMAP ) &amp;&amp; ! defined( USE_NORMALMAP )",

     "vec3 worldNormal = mat3( modelMatrix[ 0 ].xyz, modelMatrix[ 1 ].xyz, modelMatrix[ 2 ].xyz ) * objectNormal;",
     "worldNormal = normalize( worldNormal );",

     "vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );",

     "if ( useRefract ) {",

       "vReflect = refract( cameraToVertex, worldNormal, refractionRatio );",

     "} else {",

       "vReflect = reflect( cameraToVertex, worldNormal );",

     "}",

   "#endif"

 ].join("\n"),

 // COLOR MAP (particles)

 "map_particle_pars_fragment": [

   "#ifdef USE_MAP",

     "uniform sampler2D map;",

   "#endif"

 ].join("\n"),


 "map_particle_fragment": [

   "#ifdef USE_MAP",

     "gl_FragColor = gl_FragColor * texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) );",

   "#endif"

 ].join("\n"),

 // COLOR MAP (triangles)

 "map_pars_vertex": [

   "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )",

     "varying vec2 vUv;",
     "uniform vec4 offsetRepeat;",

   "#endif"

 ].join("\n"),

 "map_pars_fragment": [

   "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )",

     "varying vec2 vUv;",

   "#endif",

   "#ifdef USE_MAP",

     "uniform sampler2D map;",

   "#endif"

 ].join("\n"),

 "map_vertex": [

   "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )",

     "vUv = uv * offsetRepeat.zw + offsetRepeat.xy;",

   "#endif"

 ].join("\n"),

 "map_fragment": [

   "#ifdef USE_MAP",

     "vec4 texelColor = texture2D( map, vUv );",

     "#ifdef GAMMA_INPUT",

       "texelColor.xyz *= texelColor.xyz;",

     "#endif",

     "gl_FragColor = gl_FragColor * texelColor;",

   "#endif"

 ].join("\n"),

 // LIGHT MAP

 "lightmap_pars_fragment": [

   "#ifdef USE_LIGHTMAP",

     "varying vec2 vUv2;",
     "uniform sampler2D lightMap;",

   "#endif"

 ].join("\n"),

 "lightmap_pars_vertex": [

   "#ifdef USE_LIGHTMAP",

     "varying vec2 vUv2;",

   "#endif"

 ].join("\n"),

 "lightmap_fragment": [

   "#ifdef USE_LIGHTMAP",

     "gl_FragColor = gl_FragColor * texture2D( lightMap, vUv2 );",

   "#endif"

 ].join("\n"),

 "lightmap_vertex": [

   "#ifdef USE_LIGHTMAP",

     "vUv2 = uv2;",

   "#endif"

 ].join("\n"),

 // BUMP MAP

 "bumpmap_pars_fragment": [

   "#ifdef USE_BUMPMAP",

     "uniform sampler2D bumpMap;",
     "uniform float bumpScale;",

     // Derivative maps - bump mapping unparametrized surfaces by Morten Mikkelsen
     //  http://mmikkelsen3d.blogspot.sk/2011/07/derivative-maps.html

     // Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)

     "vec2 dHdxy_fwd() {",

       "vec2 dSTdx = dFdx( vUv );",
       "vec2 dSTdy = dFdy( vUv );",

       "float Hll = bumpScale * texture2D( bumpMap, vUv ).x;",
       "float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;",
       "float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;",

       "return vec2( dBx, dBy );",

     "}",

     "vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {",

       "vec3 vSigmaX = dFdx( surf_pos );",
       "vec3 vSigmaY = dFdy( surf_pos );",
       "vec3 vN = surf_norm;",   // normalized

       "vec3 R1 = cross( vSigmaY, vN );",
       "vec3 R2 = cross( vN, vSigmaX );",

       "float fDet = dot( vSigmaX, R1 );",

       "vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );",
       "return normalize( abs( fDet ) * surf_norm - vGrad );",

     "}",

   "#endif"

 ].join("\n"),

 // NORMAL MAP

 "normalmap_pars_fragment": [

   "#ifdef USE_NORMALMAP",

     "uniform sampler2D normalMap;",
     "uniform vec2 normalScale;",

     // Per-Pixel Tangent Space Normal Mapping
     // http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html

     "vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {",

       "vec3 q0 = dFdx( eye_pos.xyz );",
       "vec3 q1 = dFdy( eye_pos.xyz );",
       "vec2 st0 = dFdx( vUv.st );",
       "vec2 st1 = dFdy( vUv.st );",

       "vec3 S = normalize(  q0 * st1.t - q1 * st0.t );",
       "vec3 T = normalize( -q0 * st1.s + q1 * st0.s );",
       "vec3 N = normalize( surf_norm );",

       "vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;",
       "mapN.xy = normalScale * mapN.xy;",
       "mat3 tsn = mat3( S, T, N );",
       "return normalize( tsn * mapN );",

     "}",

   "#endif"

 ].join("\n"),

 // SPECULAR MAP

 "specularmap_pars_fragment": [

   "#ifdef USE_SPECULARMAP",

     "uniform sampler2D specularMap;",

   "#endif"

 ].join("\n"),

 "specularmap_fragment": [

   "float specularStrength;",

   "#ifdef USE_SPECULARMAP",

     "vec4 texelSpecular = texture2D( specularMap, vUv );",
     "specularStrength = texelSpecular.r;",

   "#else",

     "specularStrength = 1.0;",

   "#endif"

 ].join("\n"),

 // LIGHTS LAMBERT

 "lights_lambert_pars_vertex": [

   "uniform vec3 ambient;",
   "uniform vec3 diffuse;",
   "uniform vec3 emissive;",

   "uniform vec3 ambientLightColor;",

   "#if MAX_DIR_LIGHTS &gt; 0",

     "uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];",
     "uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];",

   "#endif",

   "#if MAX_HEMI_LIGHTS &gt; 0",

     "uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];",
     "uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];",
     "uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];",

   "#endif",

   "#if MAX_POINT_LIGHTS &gt; 0",

     "uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];",
     "uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];",
     "uniform float pointLightDistance[ MAX_POINT_LIGHTS ];",

   "#endif",

   "#if MAX_SPOT_LIGHTS &gt; 0",

     "uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];",
     "uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];",
     "uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];",
     "uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];",
     "uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];",
     "uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];",

   "#endif",

   "#ifdef WRAP_AROUND",

     "uniform vec3 wrapRGB;",

   "#endif"

 ].join("\n"),

 "lights_lambert_vertex": [

   "vLightFront = vec3( 0.0 );",

   "#ifdef DOUBLE_SIDED",

     "vLightBack = vec3( 0.0 );",

   "#endif",

   "transformedNormal = normalize( transformedNormal );",

   "#if MAX_DIR_LIGHTS &gt; 0",

   "for( int i = 0; i &lt; MAX_DIR_LIGHTS; i ++ ) {",

     "vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );",
     "vec3 dirVector = normalize( lDirection.xyz );",

     "float dotProduct = dot( transformedNormal, dirVector );",
     "vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );",

     "#ifdef DOUBLE_SIDED",

       "vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );",

       "#ifdef WRAP_AROUND",

         "vec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );",

       "#endif",

     "#endif",

     "#ifdef WRAP_AROUND",

       "vec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );",
       "directionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB );",

       "#ifdef DOUBLE_SIDED",

         "directionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB );",

       "#endif",

     "#endif",

     "vLightFront += directionalLightColor[ i ] * directionalLightWeighting;",

     "#ifdef DOUBLE_SIDED",

       "vLightBack += directionalLightColor[ i ] * directionalLightWeightingBack;",

     "#endif",

   "}",

   "#endif",

   "#if MAX_POINT_LIGHTS &gt; 0",

     "for( int i = 0; i &lt; MAX_POINT_LIGHTS; i ++ ) {",

       "vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );",
       "vec3 lVector = lPosition.xyz - mvPosition.xyz;",

       "float lDistance = 1.0;",
       "if ( pointLightDistance[ i ] &gt; 0.0 )",
         "lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );",

       "lVector = normalize( lVector );",
       "float dotProduct = dot( transformedNormal, lVector );",

       "vec3 pointLightWeighting = vec3( max( dotProduct, 0.0 ) );",

       "#ifdef DOUBLE_SIDED",

         "vec3 pointLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );",

         "#ifdef WRAP_AROUND",

           "vec3 pointLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );",

         "#endif",

       "#endif",

       "#ifdef WRAP_AROUND",

         "vec3 pointLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );",
         "pointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB );",

         "#ifdef DOUBLE_SIDED",

           "pointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB );",

         "#endif",

       "#endif",

       "vLightFront += pointLightColor[ i ] * pointLightWeighting * lDistance;",

       "#ifdef DOUBLE_SIDED",

         "vLightBack += pointLightColor[ i ] * pointLightWeightingBack * lDistance;",

       "#endif",

     "}",

   "#endif",

   "#if MAX_SPOT_LIGHTS &gt; 0",

   "for( int i = 0; i &lt; MAX_SPOT_LIGHTS; i ++ ) {",

   "vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );",
   "vec3 lVector = lPosition.xyz - mvPosition.xyz;",

   "float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - worldPosition.xyz ) );",

   "if ( spotEffect &gt; spotLightAngleCos[ i ] ) {",

   "spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );",

   "float lDistance = 1.0;",
   "if ( spotLightDistance[ i ] &gt; 0.0 )",
   "lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );",

   "lVector = normalize( lVector );",

   "float dotProduct = dot( transformedNormal, lVector );",
   "vec3 spotLightWeighting = vec3( max( dotProduct, 0.0 ) );",

   "#ifdef DOUBLE_SIDED",

   "vec3 spotLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );",

   "#ifdef WRAP_AROUND",

   "vec3 spotLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );",

   "#endif",

   "#endif",

   "#ifdef WRAP_AROUND",

   "vec3 spotLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );",
   "spotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB );",

   "#ifdef DOUBLE_SIDED",

   "spotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB );",

   "#endif",

   "#endif",

   "vLightFront += spotLightColor[ i ] * spotLightWeighting * lDistance * spotEffect;",

   "#ifdef DOUBLE_SIDED",

   "vLightBack += spotLightColor[ i ] * spotLightWeightingBack * lDistance * spotEffect;",

   "#endif",

   "}",

   "}",

   "#endif",

   "#if MAX_HEMI_LIGHTS &gt; 0",

     "for( int i = 0; i &lt; MAX_HEMI_LIGHTS; i ++ ) {",

       "vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );",
       "vec3 lVector = normalize( lDirection.xyz );",

       "float dotProduct = dot( transformedNormal, lVector );",

       "float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;",
       "float hemiDiffuseWeightBack = -0.5 * dotProduct + 0.5;",

       "vLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );",

       "#ifdef DOUBLE_SIDED",

         "vLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );",

       "#endif",

     "}",

   "#endif",

   "vLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;",

   "#ifdef DOUBLE_SIDED",

     "vLightBack = vLightBack * diffuse + ambient * ambientLightColor + emissive;",

   "#endif"

 ].join("\n"),

 // LIGHTS PHONG

 "lights_phong_pars_vertex": [

   "#ifndef PHONG_PER_PIXEL",

   "#if MAX_POINT_LIGHTS &gt; 0",

     "uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];",
     "uniform float pointLightDistance[ MAX_POINT_LIGHTS ];",

     "varying vec4 vPointLight[ MAX_POINT_LIGHTS ];",

   "#endif",

   "#if MAX_SPOT_LIGHTS &gt; 0",

     "uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];",
     "uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];",

     "varying vec4 vSpotLight[ MAX_SPOT_LIGHTS ];",

   "#endif",

   "#endif",

   "#if MAX_SPOT_LIGHTS &gt; 0 || defined( USE_BUMPMAP )",

     "varying vec3 vWorldPosition;",

   "#endif"

 ].join("\n"),


 "lights_phong_vertex": [

   "#ifndef PHONG_PER_PIXEL",

   "#if MAX_POINT_LIGHTS &gt; 0",

     "for( int i = 0; i &lt; MAX_POINT_LIGHTS; i ++ ) {",

       "vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );",
       "vec3 lVector = lPosition.xyz - mvPosition.xyz;",

       "float lDistance = 1.0;",
       "if ( pointLightDistance[ i ] &gt; 0.0 )",
         "lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );",

       "vPointLight[ i ] = vec4( lVector, lDistance );",

     "}",

   "#endif",

   "#if MAX_SPOT_LIGHTS &gt; 0",

     "for( int i = 0; i &lt; MAX_SPOT_LIGHTS; i ++ ) {",

       "vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );",
       "vec3 lVector = lPosition.xyz - mvPosition.xyz;",

       "float lDistance = 1.0;",
       "if ( spotLightDistance[ i ] &gt; 0.0 )",
         "lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );",

       "vSpotLight[ i ] = vec4( lVector, lDistance );",

     "}",

   "#endif",

   "#endif",

   "#if MAX_SPOT_LIGHTS &gt; 0 || defined( USE_BUMPMAP )",

     "vWorldPosition = worldPosition.xyz;",

   "#endif"

 ].join("\n"),

 "lights_phong_pars_fragment": [

   "uniform vec3 ambientLightColor;",

   "#if MAX_DIR_LIGHTS &gt; 0",

     "uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];",
     "uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];",

   "#endif",

   "#if MAX_HEMI_LIGHTS &gt; 0",

     "uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];",
     "uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];",
     "uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];",

   "#endif",

   "#if MAX_POINT_LIGHTS &gt; 0",

     "uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];",

     "#ifdef PHONG_PER_PIXEL",

       "uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];",
       "uniform float pointLightDistance[ MAX_POINT_LIGHTS ];",

     "#else",

       "varying vec4 vPointLight[ MAX_POINT_LIGHTS ];",

     "#endif",

   "#endif",

   "#if MAX_SPOT_LIGHTS &gt; 0",

     "uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];",
     "uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];",
     "uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];",
     "uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];",
     "uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];",

     "#ifdef PHONG_PER_PIXEL",

       "uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];",

     "#else",

       "varying vec4 vSpotLight[ MAX_SPOT_LIGHTS ];",

     "#endif",

   "#endif",

   "#if MAX_SPOT_LIGHTS &gt; 0 || defined( USE_BUMPMAP )",

     "varying vec3 vWorldPosition;",

   "#endif",

   "#ifdef WRAP_AROUND",

     "uniform vec3 wrapRGB;",

   "#endif",

   "varying vec3 vViewPosition;",
   "varying vec3 vNormal;"

 ].join("\n"),

 "lights_phong_fragment": [

   "vec3 normal = normalize( vNormal );",
   "vec3 viewPosition = normalize( vViewPosition );",

   "#ifdef DOUBLE_SIDED",

     "normal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );",

   "#endif",

   "#ifdef USE_NORMALMAP",

     "normal = perturbNormal2Arb( -viewPosition, normal );",

   "#elif defined( USE_BUMPMAP )",

     "normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );",

   "#endif",

   "#if MAX_POINT_LIGHTS &gt; 0",

     "vec3 pointDiffuse  = vec3( 0.0 );",
     "vec3 pointSpecular = vec3( 0.0 );",

     "for ( int i = 0; i &lt; MAX_POINT_LIGHTS; i ++ ) {",

       "#ifdef PHONG_PER_PIXEL",

         "vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );",
         "vec3 lVector = lPosition.xyz + vViewPosition.xyz;",

         "float lDistance = 1.0;",
         "if ( pointLightDistance[ i ] &gt; 0.0 )",
           "lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );",

         "lVector = normalize( lVector );",

       "#else",

         "vec3 lVector = normalize( vPointLight[ i ].xyz );",
         "float lDistance = vPointLight[ i ].w;",

       "#endif",

       // diffuse

       "float dotProduct = dot( normal, lVector );",

       "#ifdef WRAP_AROUND",

         "float pointDiffuseWeightFull = max( dotProduct, 0.0 );",
         "float pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );",

         "vec3 pointDiffuseWeight = mix( vec3 ( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );",

       "#else",

         "float pointDiffuseWeight = max( dotProduct, 0.0 );",

       "#endif",

       "pointDiffuse  += diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;",

       // specular

       "vec3 pointHalfVector = normalize( lVector + viewPosition );",
       "float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );",
       "float pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );",

       "#ifdef PHYSICALLY_BASED_SHADING",

         // 2.0 =&gt; 2.0001 is hack to work around ANGLE bug

         "float specularNormalization = ( shininess + 2.0001 ) / 8.0;",

         "vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, pointHalfVector ), 5.0 );",
         "pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;",

       "#else",

         "pointSpecular += specular * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance;",

       "#endif",

     "}",

   "#endif",

   "#if MAX_SPOT_LIGHTS &gt; 0",

     "vec3 spotDiffuse  = vec3( 0.0 );",
     "vec3 spotSpecular = vec3( 0.0 );",

     "for ( int i = 0; i &lt; MAX_SPOT_LIGHTS; i ++ ) {",

       "#ifdef PHONG_PER_PIXEL",

         "vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );",
         "vec3 lVector = lPosition.xyz + vViewPosition.xyz;",

         "float lDistance = 1.0;",
         "if ( spotLightDistance[ i ] &gt; 0.0 )",
           "lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );",

         "lVector = normalize( lVector );",

       "#else",

         "vec3 lVector = normalize( vSpotLight[ i ].xyz );",
         "float lDistance = vSpotLight[ i ].w;",

       "#endif",

       "float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );",

       "if ( spotEffect &gt; spotLightAngleCos[ i ] ) {",

         "spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );",

         // diffuse

         "float dotProduct = dot( normal, lVector );",

         "#ifdef WRAP_AROUND",

           "float spotDiffuseWeightFull = max( dotProduct, 0.0 );",
           "float spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );",

           "vec3 spotDiffuseWeight = mix( vec3 ( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );",

         "#else",

           "float spotDiffuseWeight = max( dotProduct, 0.0 );",

         "#endif",

         "spotDiffuse += diffuse * spotLightColor[ i ] * spotDiffuseWeight * lDistance * spotEffect;",

         // specular

         "vec3 spotHalfVector = normalize( lVector + viewPosition );",
         "float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );",
         "float spotSpecularWeight = specularStrength * max( pow( spotDotNormalHalf, shininess ), 0.0 );",

         "#ifdef PHYSICALLY_BASED_SHADING",

           // 2.0 =&gt; 2.0001 is hack to work around ANGLE bug

           "float specularNormalization = ( shininess + 2.0001 ) / 8.0;",

           "vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, spotHalfVector ), 5.0 );",
           "spotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * specularNormalization * spotEffect;",

         "#else",

           "spotSpecular += specular * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * spotEffect;",

         "#endif",

       "}",

     "}",

   "#endif",

   "#if MAX_DIR_LIGHTS &gt; 0",

     "vec3 dirDiffuse  = vec3( 0.0 );",
     "vec3 dirSpecular = vec3( 0.0 );" ,

     "for( int i = 0; i &lt; MAX_DIR_LIGHTS; i ++ ) {",

       "vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );",
       "vec3 dirVector = normalize( lDirection.xyz );",

       // diffuse

       "float dotProduct = dot( normal, dirVector );",

       "#ifdef WRAP_AROUND",

         "float dirDiffuseWeightFull = max( dotProduct, 0.0 );",
         "float dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );",

         "vec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );",

       "#else",

         "float dirDiffuseWeight = max( dotProduct, 0.0 );",

       "#endif",

       "dirDiffuse  += diffuse * directionalLightColor[ i ] * dirDiffuseWeight;",

       // specular

       "vec3 dirHalfVector = normalize( dirVector + viewPosition );",
       "float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );",
       "float dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );",

       "#ifdef PHYSICALLY_BASED_SHADING",

         /*
         // fresnel term from skin shader
         "const float F0 = 0.128;",

         "float base = 1.0 - dot( viewPosition, dirHalfVector );",
         "float exponential = pow( base, 5.0 );",

         "float fresnel = exponential + F0 * ( 1.0 - exponential );",
         */

         /*
         // fresnel term from fresnel shader
         "const float mFresnelBias = 0.08;",
         "const float mFresnelScale = 0.3;",
         "const float mFresnelPower = 5.0;",

         "float fresnel = mFresnelBias + mFresnelScale * pow( 1.0 + dot( normalize( -viewPosition ), normal ), mFresnelPower );",
         */

         // 2.0 =&gt; 2.0001 is hack to work around ANGLE bug

         "float specularNormalization = ( shininess + 2.0001 ) / 8.0;",

         //"dirSpecular += specular * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization * fresnel;",

         "vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( dirVector, dirHalfVector ), 5.0 );",
         "dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;",

       "#else",

         "dirSpecular += specular * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight;",

       "#endif",

     "}",

   "#endif",

   "#if MAX_HEMI_LIGHTS &gt; 0",

     "vec3 hemiDiffuse  = vec3( 0.0 );",
     "vec3 hemiSpecular = vec3( 0.0 );" ,

     "for( int i = 0; i &lt; MAX_HEMI_LIGHTS; i ++ ) {",

       "vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );",
       "vec3 lVector = normalize( lDirection.xyz );",

       // diffuse

       "float dotProduct = dot( normal, lVector );",
       "float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;",

       "vec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );",

       "hemiDiffuse += diffuse * hemiColor;",

       // specular (sky light)

       "vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );",
       "float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;",
       "float hemiSpecularWeightSky = specularStrength * max( pow( hemiDotNormalHalfSky, shininess ), 0.0 );",

       // specular (ground light)

       "vec3 lVectorGround = -lVector;",

       "vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );",
       "float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;",
       "float hemiSpecularWeightGround = specularStrength * max( pow( hemiDotNormalHalfGround, shininess ), 0.0 );",

       "#ifdef PHYSICALLY_BASED_SHADING",

         "float dotProductGround = dot( normal, lVectorGround );",

         // 2.0 =&gt; 2.0001 is hack to work around ANGLE bug

         "float specularNormalization = ( shininess + 2.0001 ) / 8.0;",

         "vec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, hemiHalfVectorSky ), 5.0 );",
         "vec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 5.0 );",
         "hemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );",

       "#else",

         "hemiSpecular += specular * hemiColor * ( hemiSpecularWeightSky + hemiSpecularWeightGround ) * hemiDiffuseWeight;",

       "#endif",

     "}",

   "#endif",

   "vec3 totalDiffuse = vec3( 0.0 );",
   "vec3 totalSpecular = vec3( 0.0 );",

   "#if MAX_DIR_LIGHTS &gt; 0",

     "totalDiffuse += dirDiffuse;",
     "totalSpecular += dirSpecular;",

   "#endif",

   "#if MAX_HEMI_LIGHTS &gt; 0",

     "totalDiffuse += hemiDiffuse;",
     "totalSpecular += hemiSpecular;",

   "#endif",

   "#if MAX_POINT_LIGHTS &gt; 0",

     "totalDiffuse += pointDiffuse;",
     "totalSpecular += pointSpecular;",

   "#endif",

   "#if MAX_SPOT_LIGHTS &gt; 0",

     "totalDiffuse += spotDiffuse;",
     "totalSpecular += spotSpecular;",

   "#endif",

   "#ifdef METAL",

     "gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient + totalSpecular );",

   "#else",

     "gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient ) + totalSpecular;",

   "#endif"

 ].join("\n"),

 // VERTEX COLORS

 "color_pars_fragment": [

   "#ifdef USE_COLOR",

     "varying vec3 vColor;",

   "#endif"

 ].join("\n"),


 "color_fragment": [

   "#ifdef USE_COLOR",

     "gl_FragColor = gl_FragColor * vec4( vColor, opacity );",

   "#endif"

 ].join("\n"),

 "color_pars_vertex": [

   "#ifdef USE_COLOR",

     "varying vec3 vColor;",

   "#endif"

 ].join("\n"),


 "color_vertex": [

   "#ifdef USE_COLOR",

     "#ifdef GAMMA_INPUT",

       "vColor = color * color;",

     "#else",

       "vColor = color;",

     "#endif",

   "#endif"

 ].join("\n"),

 // SKINNING

 "skinning_pars_vertex": [

   "#ifdef USE_SKINNING",

     "#ifdef BONE_TEXTURE",

       "uniform sampler2D boneTexture;",

       "mat4 getBoneMatrix( const in float i ) {",

         "float j = i * 4.0;",
         "float x = mod( j, N_BONE_PIXEL_X );",
         "float y = floor( j / N_BONE_PIXEL_X );",

         "const float dx = 1.0 / N_BONE_PIXEL_X;",
         "const float dy = 1.0 / N_BONE_PIXEL_Y;",

         "y = dy * ( y + 0.5 );",

         "vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );",
         "vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );",
         "vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );",
         "vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );",

         "mat4 bone = mat4( v1, v2, v3, v4 );",

         "return bone;",

       "}",

     "#else",

       "uniform mat4 boneGlobalMatrices[ MAX_BONES ];",

       "mat4 getBoneMatrix( const in float i ) {",

         "mat4 bone = boneGlobalMatrices[ int(i) ];",
         "return bone;",

       "}",

     "#endif",

   "#endif"

 ].join("\n"),

 "skinbase_vertex": [

   "#ifdef USE_SKINNING",

     "mat4 boneMatX = getBoneMatrix( skinIndex.x );",
     "mat4 boneMatY = getBoneMatrix( skinIndex.y );",

   "#endif"

 ].join("\n"),

 "skinning_vertex": [

   "#ifdef USE_SKINNING",

     "#ifdef USE_MORPHTARGETS",

       "vec4 skinVertex = vec4( morphed, 1.0 );",

     "#else",

       "vec4 skinVertex = vec4( position, 1.0 );",

     "#endif",

     "vec4 skinned  = boneMatX * skinVertex * skinWeight.x;",
     "skinned    += boneMatY * skinVertex * skinWeight.y;",

   "#endif"

 ].join("\n"),

 // MORPHING

 "morphtarget_pars_vertex": [

   "#ifdef USE_MORPHTARGETS",

     "#ifndef USE_MORPHNORMALS",

     "uniform float morphTargetInfluences[ 8 ];",

     "#else",

     "uniform float morphTargetInfluences[ 4 ];",

     "#endif",

   "#endif"

 ].join("\n"),

 "morphtarget_vertex": [

   "#ifdef USE_MORPHTARGETS",

     "vec3 morphed = vec3( 0.0 );",
     "morphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];",
     "morphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];",
     "morphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];",
     "morphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];",

     "#ifndef USE_MORPHNORMALS",

     "morphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];",
     "morphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];",
     "morphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];",
     "morphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];",

     "#endif",

     "morphed += position;",

   "#endif"

 ].join("\n"),

 "default_vertex" : [

     "vec4 mvPosition;",

     "#ifdef USE_SKINNING",

       "mvPosition = modelViewMatrix * skinned;",

     "#endif",

     "#if !defined( USE_SKINNING ) &amp;&amp; defined( USE_MORPHTARGETS )",

       "mvPosition = modelViewMatrix * vec4( morphed, 1.0 );",

     "#endif",

     "#if !defined( USE_SKINNING ) &amp;&amp; ! defined( USE_MORPHTARGETS )",

       "mvPosition = modelViewMatrix * vec4( position, 1.0 );",

     "#endif",

     "gl_Position = projectionMatrix * mvPosition;"

 ].join("\n"),

 "morphnormal_vertex": [

   "#ifdef USE_MORPHNORMALS",

     "vec3 morphedNormal = vec3( 0.0 );",

     "morphedNormal +=  ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];",
     "morphedNormal +=  ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];",
     "morphedNormal +=  ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];",
     "morphedNormal +=  ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];",

     "morphedNormal += normal;",

   "#endif"

 ].join("\n"),

 "skinnormal_vertex": [

   "#ifdef USE_SKINNING",

     "mat4 skinMatrix = skinWeight.x * boneMatX;",
     "skinMatrix   += skinWeight.y * boneMatY;",

     "#ifdef USE_MORPHNORMALS",

     "vec4 skinnedNormal = skinMatrix * vec4( morphedNormal, 0.0 );",

     "#else",

     "vec4 skinnedNormal = skinMatrix * vec4( normal, 0.0 );",

     "#endif",

   "#endif"

 ].join("\n"),

 "defaultnormal_vertex": [

    "vec3 objectNormal;",

    "#ifdef USE_SKINNING",

       "objectNormal = skinnedNormal.xyz;",

    "#endif",

    "#if !defined( USE_SKINNING ) &amp;&amp; defined( USE_MORPHNORMALS )",

       "objectNormal = morphedNormal;",

    "#endif",

    "#if !defined( USE_SKINNING ) &amp;&amp; ! defined( USE_MORPHNORMALS )",

       "objectNormal = normal;",

    "#endif",

    "#ifdef FLIP_SIDED",

       "objectNormal = -objectNormal;",

    "#endif",

    "vec3 transformedNormal = normalMatrix * objectNormal;"

 ].join("\n"),

 // SHADOW MAP

 // based on SpiderGL shadow map and Fabien Sanglard's GLSL shadow mapping examples
 //  http://spidergl.org/example.php?id=6
 //  http://fabiensanglard.net/shadowmapping

 "shadowmap_pars_fragment": [

   "#ifdef USE_SHADOWMAP",

     "uniform sampler2D shadowMap[ MAX_SHADOWS ];",
     "uniform vec2 shadowMapSize[ MAX_SHADOWS ];",

     "uniform float shadowDarkness[ MAX_SHADOWS ];",
     "uniform float shadowBias[ MAX_SHADOWS ];",

     "varying vec4 vShadowCoord[ MAX_SHADOWS ];",

     "float unpackDepth( const in vec4 rgba_depth ) {",

       "const vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );",
       "float depth = dot( rgba_depth, bit_shift );",
       "return depth;",

     "}",

   "#endif"

 ].join("\n"),

 "shadowmap_fragment": [

   "#ifdef USE_SHADOWMAP",

     "#ifdef SHADOWMAP_DEBUG",

       "vec3 frustumColors[3];",
       "frustumColors[0] = vec3( 1.0, 0.5, 0.0 );",
       "frustumColors[1] = vec3( 0.0, 1.0, 0.8 );",
       "frustumColors[2] = vec3( 0.0, 0.5, 1.0 );",

     "#endif",

     "#ifdef SHADOWMAP_CASCADE",

       "int inFrustumCount = 0;",

     "#endif",

     "float fDepth;",
     "vec3 shadowColor = vec3( 1.0 );",

     "for( int i = 0; i &lt; MAX_SHADOWS; i ++ ) {",

       "vec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;",

       // "if ( something &amp;&amp; something )"     breaks ATI OpenGL shader compiler
       // "if ( all( something, something ) )"  using this instead

       "bvec4 inFrustumVec = bvec4 ( shadowCoord.x &gt;= 0.0, shadowCoord.x &lt;= 1.0, shadowCoord.y &gt;= 0.0, shadowCoord.y &lt;= 1.0 );",
       "bool inFrustum = all( inFrustumVec );",

       // don't shadow pixels outside of light frustum
       // use just first frustum (for cascades)
       // don't shadow pixels behind far plane of light frustum

       "#ifdef SHADOWMAP_CASCADE",

         "inFrustumCount += int( inFrustum );",
         "bvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z &lt;= 1.0 );",

       "#else",

         "bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z &lt;= 1.0 );",

       "#endif",

       "bool frustumTest = all( frustumTestVec );",

       "if ( frustumTest ) {",

         "shadowCoord.z += shadowBias[ i ];",

         "#if defined( SHADOWMAP_TYPE_PCF )",

           // Percentage-close filtering
           // (9 pixel kernel)
           // http://fabiensanglard.net/shadowmappingPCF/

           "float shadow = 0.0;",

           /*
           // nested loops breaks shader compiler / validator on some ATI cards when using OpenGL
           // must enroll loop manually

           "for ( float y = -1.25; y &lt;= 1.25; y += 1.25 )",
             "for ( float x = -1.25; x &lt;= 1.25; x += 1.25 ) {",

               "vec4 rgbaDepth = texture2D( shadowMap[ i ], vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy );",

               // doesn't seem to produce any noticeable visual difference compared to simple "texture2D" lookup
               //"vec4 rgbaDepth = texture2DProj( shadowMap[ i ], vec4( vShadowCoord[ i ].w * ( vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy ), 0.05, vShadowCoord[ i ].w ) );",

               "float fDepth = unpackDepth( rgbaDepth );",

               "if ( fDepth &lt; shadowCoord.z )",
                 "shadow += 1.0;",

           "}",

           "shadow /= 9.0;",

           */

           "const float shadowDelta = 1.0 / 9.0;",

           "float xPixelOffset = 1.0 / shadowMapSize[ i ].x;",
           "float yPixelOffset = 1.0 / shadowMapSize[ i ].y;",

           "float dx0 = -1.25 * xPixelOffset;",
           "float dy0 = -1.25 * yPixelOffset;",
           "float dx1 = 1.25 * xPixelOffset;",
           "float dy1 = 1.25 * yPixelOffset;",

           "fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );",
           "if ( fDepth &lt; shadowCoord.z ) shadow += shadowDelta;",

           "fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );",
           "if ( fDepth &lt; shadowCoord.z ) shadow += shadowDelta;",

           "fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );",
           "if ( fDepth &lt; shadowCoord.z ) shadow += shadowDelta;",

           "fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );",
           "if ( fDepth &lt; shadowCoord.z ) shadow += shadowDelta;",

           "fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );",
           "if ( fDepth &lt; shadowCoord.z ) shadow += shadowDelta;",

           "fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );",
           "if ( fDepth &lt; shadowCoord.z ) shadow += shadowDelta;",

           "fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );",
           "if ( fDepth &lt; shadowCoord.z ) shadow += shadowDelta;",

           "fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );",
           "if ( fDepth &lt; shadowCoord.z ) shadow += shadowDelta;",

           "fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );",
           "if ( fDepth &lt; shadowCoord.z ) shadow += shadowDelta;",

           "shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );",

         "#elif defined( SHADOWMAP_TYPE_PCF_SOFT )",

           // Percentage-close filtering
           // (9 pixel kernel)
           // http://fabiensanglard.net/shadowmappingPCF/

           "float shadow = 0.0;",

           "float xPixelOffset = 1.0 / shadowMapSize[ i ].x;",
           "float yPixelOffset = 1.0 / shadowMapSize[ i ].y;",

           "float dx0 = -1.0 * xPixelOffset;",
           "float dy0 = -1.0 * yPixelOffset;",
           "float dx1 = 1.0 * xPixelOffset;",
           "float dy1 = 1.0 * yPixelOffset;",

           "mat3 shadowKernel;",
           "mat3 depthKernel;",

           "depthKernel[0][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );",
           "if ( depthKernel[0][0] &lt; shadowCoord.z ) shadowKernel[0][0] = 0.25;",
           "else shadowKernel[0][0] = 0.0;",

           "depthKernel[0][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );",
           "if ( depthKernel[0][1] &lt; shadowCoord.z ) shadowKernel[0][1] = 0.25;",
           "else shadowKernel[0][1] = 0.0;",

           "depthKernel[0][2] = unpackDepth( texture2D( shadowMap[ i], shadowCoord.xy + vec2( dx0, dy1 ) ) );",
           "if ( depthKernel[0][2] &lt; shadowCoord.z ) shadowKernel[0][2] = 0.25;",
           "else shadowKernel[0][2] = 0.0;",

           "depthKernel[1][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );",
           "if ( depthKernel[1][0] &lt; shadowCoord.z ) shadowKernel[1][0] = 0.25;",
           "else shadowKernel[1][0] = 0.0;",

           "depthKernel[1][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );",
           "if ( depthKernel[1][1] &lt; shadowCoord.z ) shadowKernel[1][1] = 0.25;",
           "else shadowKernel[1][1] = 0.0;",

           "depthKernel[1][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );",
           "if ( depthKernel[1][2] &lt; shadowCoord.z ) shadowKernel[1][2] = 0.25;",
           "else shadowKernel[1][2] = 0.0;",

           "depthKernel[2][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );",
           "if ( depthKernel[2][0] &lt; shadowCoord.z ) shadowKernel[2][0] = 0.25;",
           "else shadowKernel[2][0] = 0.0;",

           "depthKernel[2][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );",
           "if ( depthKernel[2][1] &lt; shadowCoord.z ) shadowKernel[2][1] = 0.25;",
           "else shadowKernel[2][1] = 0.0;",

           "depthKernel[2][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );",
           "if ( depthKernel[2][2] &lt; shadowCoord.z ) shadowKernel[2][2] = 0.25;",
           "else shadowKernel[2][2] = 0.0;",

           "vec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[i].xy );",

           "shadowKernel[0] = mix( shadowKernel[1], shadowKernel[0], fractionalCoord.x );",
           "shadowKernel[1] = mix( shadowKernel[2], shadowKernel[1], fractionalCoord.x );",

           "vec4 shadowValues;",
           "shadowValues.x = mix( shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y );",
           "shadowValues.y = mix( shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y );",
           "shadowValues.z = mix( shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y );",
           "shadowValues.w = mix( shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y );",

           "shadow = dot( shadowValues, vec4( 1.0 ) );",

           "shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );",

         "#else",

           "vec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );",
           "float fDepth = unpackDepth( rgbaDepth );",

           "if ( fDepth &lt; shadowCoord.z )",

             // spot with multiple shadows is darker

             "shadowColor = shadowColor * vec3( 1.0 - shadowDarkness[ i ] );",

             // spot with multiple shadows has the same color as single shadow spot

             //"shadowColor = min( shadowColor, vec3( shadowDarkness[ i ] ) );",

         "#endif",

       "}",


       "#ifdef SHADOWMAP_DEBUG",

         "#ifdef SHADOWMAP_CASCADE",

           "if ( inFrustum &amp;&amp; inFrustumCount == 1 ) gl_FragColor.xyz *= frustumColors[ i ];",

         "#else",

           "if ( inFrustum ) gl_FragColor.xyz *= frustumColors[ i ];",

         "#endif",

       "#endif",

     "}",

     "#ifdef GAMMA_OUTPUT",

       "shadowColor *= shadowColor;",

     "#endif",

     "gl_FragColor.xyz = gl_FragColor.xyz * shadowColor;",

   "#endif"

 ].join("\n"),

 "shadowmap_pars_vertex": [

   "#ifdef USE_SHADOWMAP",

     "varying vec4 vShadowCoord[ MAX_SHADOWS ];",
     "uniform mat4 shadowMatrix[ MAX_SHADOWS ];",

   "#endif"

 ].join("\n"),

 "shadowmap_vertex": [

   "#ifdef USE_SHADOWMAP",

     "for( int i = 0; i &lt; MAX_SHADOWS; i ++ ) {",

       "vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;",

     "}",

   "#endif"

 ].join("\n"),

 // ALPHATEST

 "alphatest_fragment": [

   "#ifdef ALPHATEST",

     "if ( gl_FragColor.a &lt; ALPHATEST ) discard;",

   "#endif"

 ].join("\n"),

 // LINEAR SPACE

 "linear_to_gamma_fragment": [

   "#ifdef GAMMA_OUTPUT",

     "gl_FragColor.xyz = sqrt( gl_FragColor.xyz );",

   "#endif"

 ].join("\n")
};
 }
 return __ShaderChunk;
}
</pre>
</div>
</div>
<div class="field"><h4 id="ShaderLib">
<button class="show-code">Code</button>
final         <strong>ShaderLib</strong> <a class="anchor-link"
            href="#ShaderLib"
            title="Permalink to ShaderLib">#</a>
        </h4>
        <div class="doc">
<pre class="source">
get ShaderLib  {
 if (__ShaderLib == null) {
   __ShaderLib = {

'depth': {

   'uniforms': {

     "mNear": new Uniform.float(1.0),
     "mFar" :  new Uniform.float(2000.0),
     "opacity" :  new Uniform.float(1.0)

   },

   'vertexShader': [

     "void main() {",

       "gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",

     "}"

   ].join("\n"),

   'fragmentShader': [

     "uniform float mNear;",
     "uniform float mFar;",
     "uniform float opacity;",

     "void main() {",

       "float depth = gl_FragCoord.z / gl_FragCoord.w;",
       "float color = 1.0 - smoothstep( mNear, mFar, depth );",
       "gl_FragColor = vec4( vec3( color ), opacity );",

     "}"

   ].join("\n")

 },

'normal': {

   'uniforms': {

     "opacity" : new Uniform.float(1.0)

   },

   'vertexShader': [

     "varying vec3 vNormal;",

     "void main() {",

       "vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",
       "vNormal = normalize( normalMatrix * normal );",

       "gl_Position = projectionMatrix * mvPosition;",

     "}"

   ].join("\n"),

   'fragmentShader': [

     "uniform float opacity;",
     "varying vec3 vNormal;",

     "void main() {",

       "gl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );",

     "}"

   ].join("\n")

 },

'basic': {
 'uniforms': UniformsUtils.merge( [UniformsLib[ "common" ],
                                   UniformsLib[ "fog" ],
                                   UniformsLib[ "shadowmap" ]] ),

 'vertexShader': [

                ShaderChunk[ "map_pars_vertex" ],
                ShaderChunk[ "lightmap_pars_vertex" ],
                ShaderChunk[ "envmap_pars_vertex" ],
                ShaderChunk[ "color_pars_vertex" ],
                ShaderChunk[ "morphtarget_pars_vertex" ],
                ShaderChunk[ "skinning_pars_vertex" ],
                ShaderChunk[ "shadowmap_pars_vertex" ],

                "void main() {",

                  ShaderChunk[ "map_vertex" ],
                  ShaderChunk[ "lightmap_vertex" ],
                  ShaderChunk[ "color_vertex" ],
                  ShaderChunk[ "skinbase_vertex" ],

                  "#ifdef USE_ENVMAP",

                   ShaderChunk[ "morphnormal_vertex" ],
                   ShaderChunk[ "skinnormal_vertex" ],
                   ShaderChunk[ "defaultnormal_vertex" ],

                  "#endif",

                  ShaderChunk[ "morphtarget_vertex" ],
                  ShaderChunk[ "skinning_vertex" ],
                  ShaderChunk[ "default_vertex" ],

                  ShaderChunk[ "worldpos_vertex" ],
                  ShaderChunk[ "envmap_vertex" ],
                  ShaderChunk[ "shadowmap_vertex" ],

                "}"

                ].join("\n"),

  'fragmentShader': [

                   "uniform vec3 diffuse;",
                   "uniform float opacity;",

                   ShaderChunk[ "color_pars_fragment" ],
                   ShaderChunk[ "map_pars_fragment" ],
                   ShaderChunk[ "lightmap_pars_fragment" ],
                   ShaderChunk[ "envmap_pars_fragment" ],
                   ShaderChunk[ "fog_pars_fragment" ],
                   ShaderChunk[ "shadowmap_pars_fragment" ],
                   ShaderChunk[ "specularmap_pars_fragment" ],

                   "void main() {",

                   "gl_FragColor = vec4( diffuse, opacity );",

                   ShaderChunk[ "map_fragment" ],
                   ShaderChunk[ "alphatest_fragment" ],
                   ShaderChunk[ "specularmap_fragment" ],
                   ShaderChunk[ "lightmap_fragment" ],
                   ShaderChunk[ "color_fragment" ],
                   ShaderChunk[ "envmap_fragment" ],
                   ShaderChunk[ "shadowmap_fragment" ],

                   ShaderChunk[ "linear_to_gamma_fragment" ],

                   ShaderChunk[ "fog_fragment" ],

                   "}"

                   ].join("\n")

 },

 'lambert': {

   'uniforms': UniformsUtils.merge( [

     UniformsLib[ "common" ],
     UniformsLib[ "fog" ],
     UniformsLib[ "lights" ],
     UniformsLib[ "shadowmap" ],

     {
       "ambient"  : new Uniform.color(0xffffff),
       "emissive" : new Uniform.color(0x000000),
       "wrapRGB"  : new Uniform.vector3(1.0, 1.0, 1.0)
     }

   ] ),

   'vertexShader': [

     "#define LAMBERT",

     "varying vec3 vLightFront;",

     "#ifdef DOUBLE_SIDED",

       "varying vec3 vLightBack;",

     "#endif",

     ShaderChunk[ "map_pars_vertex" ],
     ShaderChunk[ "lightmap_pars_vertex" ],
     ShaderChunk[ "envmap_pars_vertex" ],
     ShaderChunk[ "lights_lambert_pars_vertex" ],
     ShaderChunk[ "color_pars_vertex" ],
     ShaderChunk[ "morphtarget_pars_vertex" ],
     ShaderChunk[ "skinning_pars_vertex" ],
     ShaderChunk[ "shadowmap_pars_vertex" ],

     "void main() {",

       ShaderChunk[ "map_vertex" ],
       ShaderChunk[ "lightmap_vertex" ],
       ShaderChunk[ "color_vertex" ],

       ShaderChunk[ "morphnormal_vertex" ],
       ShaderChunk[ "skinbase_vertex" ],
       ShaderChunk[ "skinnormal_vertex" ],
       ShaderChunk[ "defaultnormal_vertex" ],

       ShaderChunk[ "morphtarget_vertex" ],
       ShaderChunk[ "skinning_vertex" ],
       ShaderChunk[ "default_vertex" ],

       ShaderChunk[ "worldpos_vertex" ],
       ShaderChunk[ "envmap_vertex" ],
       ShaderChunk[ "lights_lambert_vertex" ],
       ShaderChunk[ "shadowmap_vertex" ],

     "}"

   ].join("\n"),

   'fragmentShader': [

     "uniform float opacity;",

     "varying vec3 vLightFront;",

     "#ifdef DOUBLE_SIDED",

       "varying vec3 vLightBack;",

     "#endif",

     ShaderChunk[ "color_pars_fragment" ],
     ShaderChunk[ "map_pars_fragment" ],
     ShaderChunk[ "lightmap_pars_fragment" ],
     ShaderChunk[ "envmap_pars_fragment" ],
     ShaderChunk[ "fog_pars_fragment" ],
     ShaderChunk[ "shadowmap_pars_fragment" ],
     ShaderChunk[ "specularmap_pars_fragment" ],

     "void main() {",

       "gl_FragColor = vec4( vec3 ( 1.0 ), opacity );",

       ShaderChunk[ "map_fragment" ],
       ShaderChunk[ "alphatest_fragment" ],
       ShaderChunk[ "specularmap_fragment" ],

       "#ifdef DOUBLE_SIDED",

         //"float isFront = float( gl_FrontFacing );",
         //"gl_FragColor.xyz *= isFront * vLightFront + ( 1.0 - isFront ) * vLightBack;",

         "if ( gl_FrontFacing )",
           "gl_FragColor.xyz *= vLightFront;",
         "else",
           "gl_FragColor.xyz *= vLightBack;",

       "#else",

         "gl_FragColor.xyz *= vLightFront;",

       "#endif",

       ShaderChunk[ "lightmap_fragment" ],
       ShaderChunk[ "color_fragment" ],
       ShaderChunk[ "envmap_fragment" ],
       ShaderChunk[ "shadowmap_fragment" ],

       ShaderChunk[ "linear_to_gamma_fragment" ],

       ShaderChunk[ "fog_fragment" ],

     "}"

   ].join("\n")

 },

 'phong': {

   'uniforms': UniformsUtils.merge( [

     UniformsLib[ "common" ],
     UniformsLib[ "bump" ],
     UniformsLib[ "normalmap" ],
     UniformsLib[ "fog" ],
     UniformsLib[ "lights" ],
     UniformsLib[ "shadowmap" ],

     {
       "ambient"  : new Uniform.color(0xffffff),
       "emissive" : new Uniform.color(0x000000),
       "specular" : new Uniform.color(0x111111),
       "shininess": new Uniform.float(30.0),
       "wrapRGB"  : new Uniform.vector3(1.0, 1.0, 1.0)
     }

   ] ),

   'vertexShader': [

     "#define PHONG",

     "varying vec3 vViewPosition;",
     "varying vec3 vNormal;",

     ShaderChunk[ "map_pars_vertex" ],
     ShaderChunk[ "lightmap_pars_vertex" ],
     ShaderChunk[ "envmap_pars_vertex" ],
     ShaderChunk[ "lights_phong_pars_vertex" ],
     ShaderChunk[ "color_pars_vertex" ],
     ShaderChunk[ "morphtarget_pars_vertex" ],
     ShaderChunk[ "skinning_pars_vertex" ],
     ShaderChunk[ "shadowmap_pars_vertex" ],

     "void main() {",

       ShaderChunk[ "map_vertex" ],
       ShaderChunk[ "lightmap_vertex" ],
       ShaderChunk[ "color_vertex" ],

       ShaderChunk[ "morphnormal_vertex" ],
       ShaderChunk[ "skinbase_vertex" ],
       ShaderChunk[ "skinnormal_vertex" ],
       ShaderChunk[ "defaultnormal_vertex" ],

       "vNormal = normalize( transformedNormal );",

       ShaderChunk[ "morphtarget_vertex" ],
       ShaderChunk[ "skinning_vertex" ],
       ShaderChunk[ "default_vertex" ],

       "vViewPosition = -mvPosition.xyz;",

       ShaderChunk[ "worldpos_vertex" ],
       ShaderChunk[ "envmap_vertex" ],
       ShaderChunk[ "lights_phong_vertex" ],
       ShaderChunk[ "shadowmap_vertex" ],

     "}"

   ].join("\n"),

   'fragmentShader': [

     "uniform vec3 diffuse;",
     "uniform float opacity;",

     "uniform vec3 ambient;",
     "uniform vec3 emissive;",
     "uniform vec3 specular;",
     "uniform float shininess;",

     ShaderChunk[ "color_pars_fragment" ],
     ShaderChunk[ "map_pars_fragment" ],
     ShaderChunk[ "lightmap_pars_fragment" ],
     ShaderChunk[ "envmap_pars_fragment" ],
     ShaderChunk[ "fog_pars_fragment" ],
     ShaderChunk[ "lights_phong_pars_fragment" ],
     ShaderChunk[ "shadowmap_pars_fragment" ],
     ShaderChunk[ "bumpmap_pars_fragment" ],
     ShaderChunk[ "normalmap_pars_fragment" ],
     ShaderChunk[ "specularmap_pars_fragment" ],

     "void main() {",

       "gl_FragColor = vec4( vec3 ( 1.0 ), opacity );",

       ShaderChunk[ "map_fragment" ],
       ShaderChunk[ "alphatest_fragment" ],
       ShaderChunk[ "specularmap_fragment" ],

       ShaderChunk[ "lights_phong_fragment" ],

       ShaderChunk[ "lightmap_fragment" ],
       ShaderChunk[ "color_fragment" ],
       ShaderChunk[ "envmap_fragment" ],
       ShaderChunk[ "shadowmap_fragment" ],

       ShaderChunk[ "linear_to_gamma_fragment" ],

       ShaderChunk[ "fog_fragment" ],

     "}"

   ].join("\n")

 },

 'particle_basic': {

   'uniforms':  UniformsUtils.merge( [

     UniformsLib[ "particle" ],
     UniformsLib[ "shadowmap" ]

   ] ),

   'vertexShader': [

     "uniform float size;",
     "uniform float scale;",

     ShaderChunk[ "color_pars_vertex" ],
     ShaderChunk[ "shadowmap_pars_vertex" ],

     "void main() {",

       ShaderChunk[ "color_vertex" ],

       "vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",

       "#ifdef USE_SIZEATTENUATION",
         "gl_PointSize = size * ( scale / length( mvPosition.xyz ) );",
       "#else",
         "gl_PointSize = size;",
       "#endif",

       "gl_Position = projectionMatrix * mvPosition;",

       ShaderChunk[ "worldpos_vertex" ],
       ShaderChunk[ "shadowmap_vertex" ],

     "}"

   ].join("\n"),

   'fragmentShader': [

     "uniform vec3 psColor;",
     "uniform float opacity;",

     ShaderChunk[ "color_pars_fragment" ],
     ShaderChunk[ "map_particle_pars_fragment" ],
     ShaderChunk[ "fog_pars_fragment" ],
     ShaderChunk[ "shadowmap_pars_fragment" ],

     "void main() {",

       "gl_FragColor = vec4( psColor, opacity );",

       ShaderChunk[ "map_particle_fragment" ],
       ShaderChunk[ "alphatest_fragment" ],
       ShaderChunk[ "color_fragment" ],
       ShaderChunk[ "shadowmap_fragment" ],
       ShaderChunk[ "fog_fragment" ],

     "}"

   ].join("\n")

 },
 'dashed': {

   "uniforms": UniformsUtils.merge( [

     UniformsLib[ "common" ],
     UniformsLib[ "fog" ],

     {
       "scale": new Uniform.float(1.0),
       "dashSize": new Uniform.float(1.0),
       "totalSize": new Uniform.float(2.0)
     }

   ] ),

   "vertexShader": [

     "uniform float scale;",
     "attribute float lineDistance;",

     "varying float vLineDistance;",

     ShaderChunk[ "color_pars_vertex" ],

     "void main() {",

       ShaderChunk[ "color_vertex" ],

       "vLineDistance = scale * lineDistance;",

       "vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",
       "gl_Position = projectionMatrix * mvPosition;",

     "}"

   ].join("\n"),

   "fragmentShader": [

     "uniform vec3 diffuse;",
     "uniform float opacity;",

     "uniform float dashSize;",
     "uniform float totalSize;",

     "varying float vLineDistance;",

     ShaderChunk[ "color_pars_fragment" ],
     ShaderChunk[ "fog_pars_fragment" ],

     "void main() {",

       "if ( mod( vLineDistance, totalSize ) &gt; dashSize ) {",

         "discard;",

       "}",

       "gl_FragColor = vec4( diffuse, opacity );",

       ShaderChunk[ "color_fragment" ],
       ShaderChunk[ "fog_fragment" ],

     "}"

   ].join("\n")

 },
 // Depth encoding into RGBA texture
 //  based on SpiderGL shadow map example
 //    http://spidergl.org/example.php?id=6
 //  originally from
 //    http://www.gamedev.net/topic/442138-packing-a-float-into-a-a8r8g8b8-texture-shader/page__whichpage__1%25EF%25BF%25BD
 //  see also here:
 //    http://aras-p.info/blog/2009/07/30/encoding-floats-to-rgba-the-final/

 'depthRGBA': {

   'uniforms': {},

   'vertexShader': [

     ShaderChunk[ "morphtarget_pars_vertex" ],
     ShaderChunk[ "skinning_pars_vertex" ],

     "void main() {",

       ShaderChunk[ "skinbase_vertex" ],
       ShaderChunk[ "morphtarget_vertex" ],
       ShaderChunk[ "skinning_vertex" ],
       ShaderChunk[ "default_vertex" ],

     "}"

   ].join("\n"),

   'fragmentShader': [

     "vec4 pack_depth( const in float depth ) {",

       "const vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );",
       "const vec4 bit_mask  = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );",
       "vec4 res = fract( depth * bit_shift );",
       "res -= res.xxyz * bit_mask;",
       "return res;",

     "}",

     "void main() {",

       "gl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );",

       //"gl_FragData[ 0 ] = pack_depth( gl_FragCoord.z / gl_FragCoord.w );",
       //"float z = ( ( gl_FragCoord.z / gl_FragCoord.w ) - 3.0 ) / ( 4000.0 - 3.0 );",
       //"gl_FragData[ 0 ] = pack_depth( z );",
       //"gl_FragData[ 0 ] = vec4( z, z, z, 1.0 );",

     "}"

   ].join("\n")

 }

   };
 }
 return __ShaderLib;
}
</pre>
</div>
</div>
<div class="field"><h4 id="ShortType">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>ShortType</strong> <a class="anchor-link"
            href="#ShortType"
            title="Permalink to ShortType">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int ShortType = 11
</pre>
</div>
</div>
<div class="field"><h4 id="SmoothShading">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>SmoothShading</strong> <a class="anchor-link"
            href="#SmoothShading"
            title="Permalink to SmoothShading">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int SmoothShading = 2
</pre>
</div>
</div>
<div class="field"><h4 id="SrcAlphaFactor">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>SrcAlphaFactor</strong> <a class="anchor-link"
            href="#SrcAlphaFactor"
            title="Permalink to SrcAlphaFactor">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int SrcAlphaFactor = 204
</pre>
</div>
</div>
<div class="field"><h4 id="SrcAlphaSaturateFactor">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>SrcAlphaSaturateFactor</strong> <a class="anchor-link"
            href="#SrcAlphaSaturateFactor"
            title="Permalink to SrcAlphaSaturateFactor">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int SrcAlphaSaturateFactor = 210
</pre>
</div>
</div>
<div class="field"><h4 id="SrcColorFactor">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>SrcColorFactor</strong> <a class="anchor-link"
            href="#SrcColorFactor"
            title="Permalink to SrcColorFactor">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int SrcColorFactor = 202
</pre>
</div>
</div>
<div class="field"><h4 id="SubtractEquation">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>SubtractEquation</strong> <a class="anchor-link"
            href="#SubtractEquation"
            title="Permalink to SubtractEquation">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int SubtractEquation = 101
</pre>
</div>
</div>
<div class="field"><h4 id="SubtractiveBlending">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>SubtractiveBlending</strong> <a class="anchor-link"
            href="#SubtractiveBlending"
            title="Permalink to SubtractiveBlending">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int SubtractiveBlending = 3
</pre>
</div>
</div>
<div class="field"><h4 id="TextureCount">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>TextureCount</strong> <a class="anchor-link"
            href="#TextureCount"
            title="Permalink to TextureCount">#</a>
        </h4>
        <div class="doc">
<pre class="source">
int TextureCount = 0
</pre>
</div>
</div>
<div class="field"><h4 id="UniformsLib">
<button class="show-code">Code</button>
final         <strong>UniformsLib</strong> <a class="anchor-link"
            href="#UniformsLib"
            title="Permalink to UniformsLib">#</a>
        </h4>
        <div class="doc">
<pre class="source">
get UniformsLib {
 if (__UniformsLib == null) {
   __UniformsLib = {
 "common": {

   "diffuse" : new Uniform.color(0xeeeeee),
   "opacity" : new Uniform.float(1.0),

   "map" : new Uniform.texture(),
   "offsetRepeat" : new Uniform.vector4(0.0, 0.0, 1.0, 1.0),

   "lightMap" : new Uniform.texture(),
   "specularMap" : new Uniform.texture(),

   "envMap" : new Uniform.texture(),
   "flipEnvMap" : new Uniform.float(-1.0),
   "useRefract" : new Uniform.int(0),
   "reflectivity" : new Uniform.float(1.0),
   "refractionRatio" : new Uniform.float(0.98),
   "combine" : new Uniform.int(0),

   "morphTargetInfluences" : new Uniform.float(0.0)

 },

 "bump": {

   "bumpMap" : new Uniform.texture(),
   "bumpScale" : new Uniform.float(1.0)

 },

 "normalmap": {

   "normalMap" : new Uniform.texture(),
   "normalScale" : new Uniform.vector2(1.0, 1.0)

 },

 "fog" : {

   "fogDensity" : new Uniform.float(0.00025),
   "fogNear" : new Uniform.float(1.0),
   "fogFar" : new Uniform.float(2000.0),
   "fogColor" : new Uniform.color(0xffffff)

 },

 "lights": {

   "ambientLightColor" : new Uniform.floatv([]),

   "directionalLightDirection" : new Uniform.floatv([]),
   "directionalLightColor" : new Uniform.floatv([]),

   "hemisphereLightDirection" : new Uniform.floatv([]),
   "hemisphereLightSkyColor" : new Uniform.floatv([]),
   "hemisphereLightGroundColor" : new Uniform.floatv([]),

   "pointLightColor" : new Uniform.floatv([]),
   "pointLightPosition" : new Uniform.floatv([]),
   "pointLightDistance" : new Uniform.floatv1([]),

   "spotLightColor" : new Uniform.floatv([]),
   "spotLightPosition" : new Uniform.floatv([]),
   "spotLightDirection" : new Uniform.floatv([]),
   "spotLightDistance" : new Uniform.floatv1([]),
   "spotLightAngleCos" : new Uniform.floatv1([]),
   "spotLightExponent" : new Uniform.floatv1([])

 },

 "particle": {

   "psColor" : new Uniform.color(0xeeeeee),
   "opacity" : new Uniform.float(1.0),
   "size" : new Uniform.float(1.0),
   "scale" : new Uniform.float(1.0),
   "map" : new Uniform.texture(),

   "fogDensity" : new Uniform.float(0.00025),
   "fogNear" : new Uniform.float(1.0),
   "fogFar" : new Uniform.float(2000.0),
   "fogColor" : new Uniform.color(0xffffff)

 },

 "shadowmap": {

   "shadowMap": new Uniform.texturev([]),
   "shadowMapSize": new Uniform.vector2v([]),

   "shadowBias" : new Uniform.floatv1([]),
   "shadowDarkness": new Uniform.floatv1([]),

   "shadowMatrix" : new Uniform.matrix4v([]),

 }
};
}
return __UniformsLib;
}
</pre>
</div>
</div>
<div class="field"><h4 id="UnsignedByteType">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>UnsignedByteType</strong> <a class="anchor-link"
            href="#UnsignedByteType"
            title="Permalink to UnsignedByteType">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int UnsignedByteType = 10
</pre>
</div>
</div>
<div class="field"><h4 id="UnsignedIntType">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>UnsignedIntType</strong> <a class="anchor-link"
            href="#UnsignedIntType"
            title="Permalink to UnsignedIntType">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int UnsignedIntType = 14
</pre>
</div>
</div>
<div class="field"><h4 id="UnsignedShort4444Type">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>UnsignedShort4444Type</strong> <a class="anchor-link"
            href="#UnsignedShort4444Type"
            title="Permalink to UnsignedShort4444Type">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int UnsignedShort4444Type = 1016
</pre>
</div>
</div>
<div class="field"><h4 id="UnsignedShort5551Type">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>UnsignedShort5551Type</strong> <a class="anchor-link"
            href="#UnsignedShort5551Type"
            title="Permalink to UnsignedShort5551Type">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int UnsignedShort5551Type = 1017
</pre>
</div>
</div>
<div class="field"><h4 id="UnsignedShort565Type">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>UnsignedShort565Type</strong> <a class="anchor-link"
            href="#UnsignedShort565Type"
            title="Permalink to UnsignedShort565Type">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int UnsignedShort565Type = 1018
</pre>
</div>
</div>
<div class="field"><h4 id="UnsignedShortType">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>UnsignedShortType</strong> <a class="anchor-link"
            href="#UnsignedShortType"
            title="Permalink to UnsignedShortType">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int UnsignedShortType = 12
</pre>
</div>
</div>
<div class="field"><h4 id="VertexColors">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>VertexColors</strong> <a class="anchor-link"
            href="#VertexColors"
            title="Permalink to VertexColors">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int VertexColors = 2
</pre>
</div>
</div>
<div class="field"><h4 id="ZeroFactor">
<button class="show-code">Code</button>
const <a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>ZeroFactor</strong> <a class="anchor-link"
            href="#ZeroFactor"
            title="Permalink to ZeroFactor">#</a>
        </h4>
        <div class="doc">
<pre class="source">
const int ZeroFactor = 200
</pre>
</div>
</div>
</div>
<div>
<h3>Functions</h3>
<div class="method"><h4 id="multiplyVector3Array">
<button class="show-code">Code</button>
dynamic <strong>multiplyVector3Array</strong>(<a href="vector_math/Matrix4.html">Matrix4</a> m, <a href="http://api.dartlang.org/dart_core/List.html">List</a>&lt;<a href="http://api.dartlang.org/dart_core/double.html">double</a>&gt; a) <a class="anchor-link" href="#multiplyVector3Array"
              title="Permalink to multiplyVector3Array">#</a></h4>
<div class="doc">
<pre class="source">
multiplyVector3Array(Matrix4 m, List&lt;double&gt; a) {

 var v1 = new Vector3.zero();
 var il = a.length;

 for ( var i = 0; i &lt; il; i += 3 ) {

   v1.x = a[ i ];
   v1.y = a[ i + 1 ];
   v1.z = a[ i + 2 ];

   v1.applyProjection( m );

   a[ i ]     = v1.x;
   a[ i + 1 ] = v1.y;
   a[ i + 2 ] = v1.z;

 }

 return a;
}
</pre>
</div>
</div>
<div class="method"><h4 id="makeRotationAxis">
<button class="show-code">Code</button>
<a href="vector_math/Matrix4.html">Matrix4</a> <strong>makeRotationAxis</strong>(<a href="vector_math/Matrix4.html">Matrix4</a> m, <a href="vector_math/Vector3.html">Vector3</a> axis, <a href="http://api.dartlang.org/dart_core/num.html">num</a> angle) <a class="anchor-link" href="#makeRotationAxis"
              title="Permalink to makeRotationAxis">#</a></h4>
<div class="doc">
<pre class="source">
Matrix4 makeRotationAxis( Matrix4 m, Vector3 axis, num angle ) {
 // Based on http://www.gamedev.net/reference/articles/article1199.asp

 num c = Math.cos( angle ),
     s = Math.sin( angle ),
     t = 1.0 - c,
     x = axis.x, y = axis.y, z = axis.z,
     tx = t * x, ty = t * y;

 m.setValues(
     tx * x + c, tx * y - s * z, tx * z + s * y, 0.0,
     tx * y + s * z, ty * y + c, ty * z - s * x, 0.0,
     tx * z - s * y, ty * z + s * x, t * z * z + c, 0.0,
     0.0, 0.0, 0.0, 1.0
   );

  return m;
}
</pre>
</div>
</div>
<div class="method"><h4 id="compose">
<button class="show-code">Code</button>
<a href="vector_math/Matrix4.html">Matrix4</a> <strong>compose</strong>(<a href="vector_math/Matrix4.html">Matrix4</a> matrix, <a href="vector_math/Vector3.html">Vector3</a> translation, <a href="vector_math/Quaternion.html">Quaternion</a> rotation, <a href="vector_math/Vector3.html">Vector3</a> s) <a class="anchor-link" href="#compose"
              title="Permalink to compose">#</a></h4>
<div class="doc">
<pre class="source">
Matrix4 compose( Matrix4 matrix, Vector3 translation, Quaternion rotation, Vector3 s ) {

 var te = matrix.storage;

 Matrix4 mRotation = new Matrix4.identity();
 setRotationFromQuaternion( mRotation, rotation );

 Matrix4 mScale = new Matrix4.diagonal3Values(s.x, s.y, s.z);

 mRotation.multiply(mScale);

 te[12] = translation.x;
 te[13] = translation.y;
 te[14] = translation.z;

 return matrix;
}
</pre>
</div>
</div>
<div class="method"><h4 id="setFromRotationMatrix">
<button class="show-code">Code</button>
<a href="vector_math/Quaternion.html">Quaternion</a> <strong>setFromRotationMatrix</strong>(<a href="vector_math/Quaternion.html">Quaternion</a> quaternion, <a href="vector_math/Matrix4.html">Matrix4</a> m) <a class="anchor-link" href="#setFromRotationMatrix"
              title="Permalink to setFromRotationMatrix">#</a></h4>
<div class="doc">
<pre class="source">
Quaternion setFromRotationMatrix(Quaternion quaternion, Matrix4 m ) {

 // http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm

 // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)
 quaternion = new Quaternion.identity();

 var te = m.storage,
     m11 = te[0], m12 = te[4], m13 = te[8],
     m21 = te[1], m22 = te[5], m23 = te[9],
     m31 = te[2], m32 = te[6], m33 = te[10],
     trace = m11 + m22 + m33,
     s;

 if( trace &gt; 0 ) {

   s = 0.5 / Math.sqrt( trace + 1.0 );

   quaternion.w = 0.25 / s;
   quaternion.x = ( m32 - m23 ) * s;
   quaternion.y = ( m13 - m31 ) * s;
   quaternion.z = ( m21 - m12 ) * s;

 } else if ( m11 &gt; m22 &amp;&amp; m11 &gt; m33 ) {

   s = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );

   quaternion.w = (m32 - m23 ) / s;
   quaternion.x = 0.25 * s;
   quaternion.y = (m12 + m21 ) / s;
   quaternion.z = (m13 + m31 ) / s;

 } else if (m22 &gt; m33) {

   s = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );

   quaternion.w = (m13 - m31 ) / s;
   quaternion.x = (m12 + m21 ) / s;
   quaternion.y = 0.25 * s;
   quaternion.z = (m23 + m32 ) / s;

 } else {

   s = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );

   quaternion.w = ( m21 - m12 ) / s;
   quaternion.x = ( m13 + m31 ) / s;
   quaternion.y = ( m23 + m32 ) / s;
   quaternion.z = 0.25 * s;

 }

 return quaternion;
}
</pre>
</div>
</div>
<div class="method"><h4 id="decompose">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/List.html">List</a> <strong>decompose</strong>(<a href="vector_math/Matrix4.html">Matrix4</a> m, <a href="vector_math/Vector3.html">Vector3</a> translation, <a href="vector_math/Quaternion.html">Quaternion</a> rotation, <a href="vector_math/Vector3.html">Vector3</a> scale) <a class="anchor-link" href="#decompose"
              title="Permalink to decompose">#</a></h4>
<div class="doc">
<pre class="source">
List decompose(Matrix4 m, Vector3 translation, Quaternion rotation, Vector3 scale ) {

 var te = m.storage;

 // grab the axis vectors
 Vector3 x = new Vector3( te[0], te[1], te[2] );
 Vector3 y = new Vector3( te[4], te[5], te[6] );
 Vector3 z = new Vector3( te[8], te[9], te[10] );

 translation = ( translation is Vector3 ) ? translation : new Vector3.zero();
 rotation = ( rotation is Quaternion ) ? rotation : new Quaternion.identity();
 scale = ( scale is Vector3 ) ? scale : new Vector3.zero();

 scale.x = x.length;
 scale.y = y.length;
 scale.z = z.length;

 translation.x = te[12];
 translation.y = te[13];
 translation.z = te[14];

 // scale the rotation part

 Matrix4 matrix = m.clone();

 matrix.storage[0] /= scale.x;
 matrix.storage[1] /= scale.x;
 matrix.storage[2] /= scale.x;

 matrix.storage[4] /= scale.y;
 matrix.storage[5] /= scale.y;
 matrix.storage[6] /= scale.y;

 matrix.storage[8] /= scale.z;
 matrix.storage[9] /= scale.z;
 matrix.storage[10] /= scale.z;

 setFromRotationMatrix( rotation, matrix );


 return [ translation, rotation, scale ];
}
</pre>
</div>
</div>
<div class="method"><h4 id="getScaleFromMatrix">
<button class="show-code">Code</button>
<a href="vector_math/Vector3.html">Vector3</a> <strong>getScaleFromMatrix</strong>(<a href="vector_math/Matrix4.html">Matrix4</a> m) <a class="anchor-link" href="#getScaleFromMatrix"
              title="Permalink to getScaleFromMatrix">#</a></h4>
<div class="doc">
<pre class="source">
Vector3 getScaleFromMatrix(Matrix4 m) {
 double sx = new Vector3(m.storage[0], m.storage[1], m.storage[2]).length;
 double sy = new Vector3(m.storage[4], m.storage[5], m.storage[6]).length;
 double sz = new Vector3(m.storage[8], m.storage[9], m.storage[10]).length;
 return new Vector3(sx, sy, sz);
}
</pre>
</div>
</div>
<div class="method"><h4 id="extractRotation">
<button class="show-code">Code</button>
<a href="vector_math/Matrix4.html">Matrix4</a> <strong>extractRotation</strong>(<a href="vector_math/Matrix4.html">Matrix4</a> te, <a href="vector_math/Matrix4.html">Matrix4</a> m) <a class="anchor-link" href="#extractRotation"
              title="Permalink to extractRotation">#</a></h4>
<div class="doc">
<pre class="source">
Matrix4 extractRotation( Matrix4 te, Matrix4 m ) {

 Vector3 vector = new Vector3.zero();

 var scaleX = 1.0 / vector.setValues ( m[0], m[1], m[2] ).length;
 var scaleY = 1.0 / vector.setValues( m[4], m[5], m[6] ).length;
 var scaleZ = 1.0 / vector.setValues( m[8], m[9], m[10] ).length;

 te[0] = m[0] * scaleX;
 te[1] = m[1] * scaleX;
 te[2] = m[2] * scaleX;

 te[4] = m[4] * scaleY;
 te[5] = m[5] * scaleY;
 te[6] = m[6] * scaleY;

 te[8] = m[8] * scaleZ;
 te[9] = m[9] * scaleZ;
 te[10] = m[10] * scaleZ;

 return te;
}
</pre>
</div>
</div>
<div class="method"><h4 id="calcInverse">
<button class="show-code">Code</button>
<a href="vector_math/Matrix3.html">Matrix3</a> <strong>calcInverse</strong>(<a href="vector_math/Matrix4.html">Matrix4</a> m) <a class="anchor-link" href="#calcInverse"
              title="Permalink to calcInverse">#</a></h4>
<div class="doc">
<pre class="source">
Matrix3 calcInverse( Matrix4 m ) {

 // input: THREE.Matrix4
 // ( based on http://code.google.com/p/webgl-mjs/ )

 double a11 =   m[10] * m[5] - m[6] * m[9];
 double a21 = - m[10] * m[1] + m[2] * m[9];
 double a31 =   m[6]  * m[1] - m[2] * m[5];
 double a12 = - m[10] * m[4] + m[6] * m[8];
 double a22 =   m[10] * m[0] - m[2] * m[8];
 double a32 = - m[6]  * m[0] + m[2] * m[4];
 double a13 =   m[9]  * m[4] - m[5] * m[8];
 double a23 = - m[9]  * m[0] + m[1] * m[8];
 double a33 =   m[5]  * m[0] - m[1] * m[4];

 var det = m[0] * a11 + m[1] * a12 + m[2] * a13;

 // no inverse

 if ( det == 0 ) {

   print( "Matrix3.getInverse(): determinant == 0" );

 }

 var idet = 1.0 / det;

 return new Matrix3(idet * a11, idet * a21, idet * a31,
                    idet * a12, idet * a22, idet * a32,
                    idet * a13, idet * a23, idet * a33);
}
</pre>
</div>
</div>
<div class="method"><h4 id="calcMaxScaleOnAxis">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/double.html">double</a> <strong>calcMaxScaleOnAxis</strong>(<a href="vector_math/Matrix4.html">Matrix4</a> te) <a class="anchor-link" href="#calcMaxScaleOnAxis"
              title="Permalink to calcMaxScaleOnAxis">#</a></h4>
<div class="doc">
<pre class="source">
double calcMaxScaleOnAxis(Matrix4 te) {

 var scaleXSq =  te[0] * te[0] + te[1] * te[1] + te[2] * te[2];
 var scaleYSq =  te[4] * te[4] + te[5] * te[5] + te[6] * te[6];
 var scaleZSq =  te[8] * te[8] + te[9] * te[9] + te[10] * te[10];

 return Math.sqrt( Math.max( scaleXSq, Math.max( scaleYSq, scaleZSq ) ) );

}
</pre>
</div>
</div>
<div class="method"><h4 id="setRotationFromQuaternion">
<button class="show-code">Code</button>
<a href="vector_math/Matrix4.html">Matrix4</a> <strong>setRotationFromQuaternion</strong>(<a href="vector_math/Matrix4.html">Matrix4</a> m, <a href="vector_math/Quaternion.html">Quaternion</a> q) <a class="anchor-link" href="#setRotationFromQuaternion"
              title="Permalink to setRotationFromQuaternion">#</a></h4>
<div class="doc">
<pre class="source">
Matrix4 setRotationFromQuaternion( Matrix4 m, Quaternion q ) {
 num x = q.x, y = q.y, z = q.z, w = q.w,
     x2 = x + x, y2 = y + y, z2 = z + z,
     xx = x * x2, xy = x * y2, xz = x * z2,
     yy = y * y2, yz = y * z2, zz = z * z2,
     wx = w * x2, wy = w * y2, wz = w * z2;

 m[0] = 1.0 - ( yy + zz );
 m[4] = xy - wz;
 m[8] = xz + wy;

 m[1] = xy + wz;
 m[5] = 1.0 - ( xx + zz );
 m[9] = yz - wx;

 m[2] = xz - wy;
 m[6] = yz + wx;
 m[10] = 1.0 - ( xx + yy );

 return m;
}
</pre>
</div>
</div>
<div class="method"><h4 id="setRotationFromEuler">
<button class="show-code">Code</button>
<a href="vector_math/Matrix4.html">Matrix4</a> <strong>setRotationFromEuler</strong>(<a href="vector_math/Matrix4.html">Matrix4</a> m, <a href="vector_math/Vector3.html">Vector3</a> v, [<a href="http://api.dartlang.org/dart_core/String.html">String</a> order = 'XYZ']) <a class="anchor-link" href="#setRotationFromEuler"
              title="Permalink to setRotationFromEuler">#</a></h4>
<div class="doc">
<pre class="source">
Matrix4 setRotationFromEuler( Matrix4 m, Vector3 v, [String order = 'XYZ'] ) {
 num x = v.x, y = v.y, z = v.z,
     a = Math.cos( x ), b = Math.sin( x ),
     c = Math.cos( y ), d = Math.sin( y ),
     e = Math.cos( z ), f = Math.sin( z );

 switch ( order ) {
   case 'YXZ':

     num ce = c * e, cf = c * f, de = d * e, df = d * f;

     m[0] = ce + df * b;
     m[4] = de * b - cf;
     m[8] = a * d;

     m[1] = a * f;
     m[5] = a * e;
     m[9] = - b;

     m[2] = cf * b - de;
     m[6] = df + ce * b;
     m[10] = a * c;
     break;

   case 'ZXY':

     num ce = c * e, cf = c * f, de = d * e, df = d * f;

     m[0] = ce - df * b;
     m[4] = - a * f;
     m[8] = de + cf * b;

     m[1] = cf + de * b;
     m[5] = a * e;
     m[9] = df - ce * b;

     m[2] = - a * d;
     m[6] = b;
     m[10] = a * c;
     break;

   case 'ZYX':

     num ae = a * e, af = a * f, be = b * e, bf = b * f;

     m[0] = c * e;
     m[4] = be * d - af;
     m[8] = ae * d + bf;

     m[1] = c * f;
     m[5] = bf * d + ae;
     m[9] = af * d - be;

     m[2] = - d;
     m[6] = b * c;
     m[10] = a * c;
     break;

   case 'YZX':

     num ac = a * c, ad = a * d, bc = b * c, bd = b * d;

     m[0] = c * e;
     m[4] = bd - ac * f;
     m[8] = bc * f + ad;

     m[1] = f;
     m[5] = a * e;
     m[9] = - b * e;

     m[2] = - d * e;
     m[6] = ad * f + bc;
     m[10] = ac - bd * f;
     break;

   case 'XZY':

     num ac = a * c, ad = a * d, bc = b * c, bd = b * d;

     m[0] = c * e;
     m[4] = - f;
     m[8] = d * e;

     m[1] = ac * f + bd;
     m[5] = a * e;
     m[9] = ad * f - bc;

     m[2] = bc * f - ad;
     m[6] = b * e;
     m[10] = bd * f + ac;
     break;

   default: // 'XYZ'

     num ae = a * e, af = a * f, be = b * e, bf = b * f;

     m[0] = c * e;
     m[4] = - c * f;
     m[8] = d;

     m[1] = af + be * d;
     m[5] = ae - bf * d;
     m[9] = - b * c;

     m[2] = bf - ae * d;
     m[6] = be + af * d;
     m[10] = a * c;
     break;

 }

 return m;
}
</pre>
</div>
</div>
<div class="method"><h4 id="makeLookAt">
<button class="show-code">Code</button>
<a href="vector_math/Matrix4.html">Matrix4</a> <strong>makeLookAt</strong>(<a href="vector_math/Matrix4.html">Matrix4</a> m, <a href="vector_math/Vector3.html">Vector3</a> eye, <a href="vector_math/Vector3.html">Vector3</a> center, <a href="vector_math/Vector3.html">Vector3</a> up) <a class="anchor-link" href="#makeLookAt"
              title="Permalink to makeLookAt">#</a></h4>
<div class="doc">
<p>@author mr.doob / http://mrdoob.com/
@author supereggbert / http://www.paulbrunt.co.uk/
@author philogb / http://blog.thejit.org/
@author jordi_ros / http://plattsoft.com
@author D1plo1d / http://github.com/D1plo1d
@author alteredq / http://alteredqualia.com/
@author mikael emtinger / http://gomo.se/
@author timknip / http://www.floorplanner.com/</p>
<p>Ported to Dart from JS by:
@author rob silverton / http://www.unwrong.com/
@author anders forsell / http://aforsell.blogspot.com/</p>
<pre class="source">
Matrix4 makeLookAt(Matrix4 m, Vector3 eye, Vector3 center, Vector3 up ) {
 Vector3 z = (eye - center ).normalize();
 if ( z.length == 0.0 ) {
   z.z = 1.0;
 }

 Vector3 x = up.cross(z).normalize();
 if ( x.length == 0.0 ) {
   z.x = z.x + 0.0001;
   x = up.cross( z ).normalize();
 }

 Vector3 y = z.cross( x ).normalize();

 m.setValues(x.x, x.y, x.z, 0.0,
             y.x, y.y, y.z, 0.0,
             z.x, z.y, z.z, 0.0,
             0.0, 0.0, 0.0, 1.0);
 return m;
}
</pre>
</div>
</div>
<div class="method"><h4 id="lerp4">
<button class="show-code">Code</button>
<a href="vector_math/Vector4.html">Vector4</a> <strong>lerp4</strong>(<a href="vector_math/Vector4.html">Vector4</a> start, <a href="vector_math/Vector4.html">Vector4</a> end, <a href="http://api.dartlang.org/dart_core/double.html">double</a> percent) <a class="anchor-link" href="#lerp4"
              title="Permalink to lerp4">#</a></h4>
<div class="doc">
<pre class="source">
Vector4 lerp4(Vector4 start, Vector4 end, double percent) {
    return (start + (end - start).scale(percent));
}
</pre>
</div>
</div>
<div class="method"><h4 id="calcEulerFromQuaternion">
<button class="show-code">Code</button>
<a href="vector_math/Vector3.html">Vector3</a> <strong>calcEulerFromQuaternion</strong>(<a href="vector_math/Vector4.html">Vector4</a> q, [<a href="http://api.dartlang.org/dart_core/String.html">String</a> order = 'XYZ']) <a class="anchor-link" href="#calcEulerFromQuaternion"
              title="Permalink to calcEulerFromQuaternion">#</a></h4>
<div class="doc">
<pre class="source">
Vector3 calcEulerFromQuaternion(Vector4 q, [String order = 'XYZ'] ) {
 double x, y, z;
 // q is assumed to be normalized

 // clamp, to handle numerical problems

 var clamp = ( x ) =&gt; Math.min( Math.max( x, -1 ), 1 );

 // http://www.mathworks.com/matlabcentral/fileexchange/20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/content/SpinCalc.m

 var sqx = q.x * q.x;
 var sqy = q.y * q.y;
 var sqz = q.z * q.z;
 var sqw = q.w * q.w;

 if ( order == 'XYZ' ) {

   x = Math.atan2( 2 * ( q.x * q.w - q.y * q.z ), ( sqw - sqx - sqy + sqz ) );
   y = Math.asin(  clamp( 2 * ( q.x * q.z + q.y * q.w ) ) );
   z = Math.atan2( 2 * ( q.z * q.w - q.x * q.y ), ( sqw + sqx - sqy - sqz ) );

 } else if ( order ==  'YXZ' ) {

   x = Math.asin(  clamp( 2 * ( q.x * q.w - q.y * q.z ) ) );
   y = Math.atan2( 2 * ( q.x * q.z + q.y * q.w ), ( sqw - sqx - sqy + sqz ) );
   z = Math.atan2( 2 * ( q.x * q.y + q.z * q.w ), ( sqw - sqx + sqy - sqz ) );

 } else if ( order == 'ZXY' ) {

   x = Math.asin(  clamp( 2 * ( q.x * q.w + q.y * q.z ) ) );
   y = Math.atan2( 2 * ( q.y * q.w - q.z * q.x ), ( sqw - sqx - sqy + sqz ) );
   z = Math.atan2( 2 * ( q.z * q.w - q.x * q.y ), ( sqw - sqx + sqy - sqz ) );

 } else if ( order == 'ZYX' ) {

   x = Math.atan2( 2 * ( q.x * q.w + q.z * q.y ), ( sqw - sqx - sqy + sqz ) );
   y = Math.asin(  clamp( 2 * ( q.y * q.w - q.x * q.z ) ) );
   z = Math.atan2( 2 * ( q.x * q.y + q.z * q.w ), ( sqw + sqx - sqy - sqz ) );

 } else if ( order == 'YZX' ) {

   x = Math.atan2( 2 * ( q.x * q.w - q.z * q.y ), ( sqw - sqx + sqy - sqz ) );
   y = Math.atan2( 2 * ( q.y * q.w - q.x * q.z ), ( sqw + sqx - sqy - sqz ) );
   z = Math.asin(  clamp( 2 * ( q.x * q.y + q.z * q.w ) ) );

 } else if ( order == 'XZY' ) {

   x = Math.atan2( 2 * ( q.x * q.w + q.y * q.z ), ( sqw - sqx + sqy - sqz ) );
   y = Math.atan2( 2 * ( q.x * q.z + q.y * q.w ), ( sqw + sqx - sqy - sqz ) );
   z = Math.asin(  clamp( 2 * ( q.z * q.w - q.x * q.y ) ) );

 }

 return new Vector3(x, y, z);
}
</pre>
</div>
</div>
<div class="method"><h4 id="calcEulerFromRotationMatrix">
<button class="show-code">Code</button>
<a href="vector_math/Vector3.html">Vector3</a> <strong>calcEulerFromRotationMatrix</strong>(<a href="vector_math/Matrix4.html">Matrix4</a> m, [<a href="http://api.dartlang.org/dart_core/String.html">String</a> order = 'XYZ']) <a class="anchor-link" href="#calcEulerFromRotationMatrix"
              title="Permalink to calcEulerFromRotationMatrix">#</a></h4>
<div class="doc">
<p>@author mr.doob / http://mrdoob.com/
@author kile / http://kile.stravaganza.org/
@author philogb / http://blog.thejit.org/
@author mikael emtinger / http://gomo.se/
@author egraether / http://egraether.com/</p>
<p>Ported to Dart from JS by:
@author rob silverton / http://www.unwrong.com/
@author anders forsell / http://aforsell.blogspot.com</p>
<p>(moved from three.js Vector3 to here since these are missing in vector_math's Vector3)</p>
<pre class="source">
Vector3 calcEulerFromRotationMatrix( Matrix4 m, [String order = 'XYZ'] ) {
 double x, y, z;

 // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)

 // clamp, to handle numerical problems

 var clamp = ( x ) =&gt; Math.min( Math.max( x, -1 ), 1 );

 var m11 = m[0], m12 = m[4], m13 = m[8];
 var m21 = m[1], m22 = m[5], m23 = m[9];
 var m31 = m[2], m32 = m[6], m33 = m[10];

 if ( order == 'XYZ' ) {

   y = Math.asin( clamp( m13 ) );

   if (  m13.abs() &lt; 0.99999 ) {

     x = Math.atan2( - m23, m33 );
     z = Math.atan2( - m12, m11 );

   } else {

     x = Math.atan2( m21, m22 );
     z = 0.0;

   }

 } else if ( order == 'YXZ' ) {

   x = Math.asin( - clamp( m23 ) );

   if ( m23.abs() &lt; 0.99999 ) {

     y = Math.atan2( m13, m33 );
     z = Math.atan2( m21, m22 );

   } else {

     y = Math.atan2( - m31, m11 );
     z = 0.0;

   }

 } else if ( order == 'ZXY' ) {

   x = Math.asin( clamp( m32 ) );

   if ( m32.abs() &lt; 0.99999 ) {

     y = Math.atan2( - m31, m33 );
     z = Math.atan2( - m12, m22 );

   } else {

     y = 0.0;
     z = Math.atan2( m13, m11 );

   }

 } else if ( order == 'ZYX' ) {

   y = Math.asin( - clamp( m31 ) );

   if (m31.abs() &lt; 0.99999 ) {

     x = Math.atan2( m32, m33 );
     z = Math.atan2( m21, m11 );

   } else {

     x = 0.0;
     z = Math.atan2( - m12, m22 );

   }

 } else if ( order == 'YZX' ) {

   z = Math.asin( clamp( m21 ) );

   if ( m21.abs() &lt; 0.99999 ) {

     x = Math.atan2( - m23, m22 );
     y = Math.atan2( - m31, m11 );

   } else {

     x = 0.0;
     y = Math.atan2( m31, m33 );

   }

 } else if ( order == 'XZY' ) {

   z = Math.asin( - clamp( m12 ) );

   if ( m12.abs() &lt; 0.99999 ) {

     x = Math.atan2( m32, m22 );
     y = Math.atan2( m13, m11 );

   } else {

     x = Math.atan2( - m13, m33 );
     y = 0.0;

   }

 }

 return new Vector3(x, y, z);
}
</pre>
</div>
</div>
</div>
<div>
<h3>Abstract Classes</h3>
          <div class="type">
          <h4>
            <a href="three/Curve.html"><strong>Curve&lt;V&gt;</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Curve2D.html"><strong>Curve2D</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Curve3D.html"><strong>Curve3D</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Face.html"><strong>Face</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/IMaterial.html"><strong>IMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/IParticleMaterial.html"><strong>IParticleMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/IRenderable.html"><strong>IRenderable</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/ITextureMapMaterial.html"><strong>ITextureMapMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Renderer.html"><strong>Renderer</strong></a>
          </h4>
          </div>
          
</div>
<div>
<h3>Classes</h3>
          <div class="type">
          <h4>
            <a href="three/AmbientLight.html"><strong>AmbientLight</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/ArcCurve.html"><strong>ArcCurve</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/ArrowHelper.html"><strong>ArrowHelper</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Attribute.html"><strong>Attribute&lt;T&gt;</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/AxisHelper.html"><strong>AxisHelper</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Bone.html"><strong>Bone</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/BoundingBox.html"><strong>BoundingBox</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/BoundingSphere.html"><strong>BoundingSphere</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Buffer.html"><strong>Buffer</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/BufferGeometry.html"><strong>BufferGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Camera.html"><strong>Camera</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/CameraHelper.html"><strong>CameraHelper</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/CanvasRenderData.html"><strong>CanvasRenderData</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/CanvasRenderer.html"><strong>CanvasRenderer</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Chunk.html"><strong>Chunk</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/CircleGeometry.html"><strong>CircleGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/ClosedSplineCurve3.html"><strong>ClosedSplineCurve3</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Color.html"><strong>Color</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/CompressedTexture.html"><strong>CompressedTexture</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/ConvexGeometry.html"><strong>ConvexGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/CSS3DObject.html"><strong>CSS3DObject</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/CSS3DRenderer.html"><strong>CSS3DRenderer</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/CubeGeometry.html"><strong>CubeGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/CubeGeomSides.html"><strong>CubeGeomSides</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/CubeReflectionMapping.html"><strong>CubeReflectionMapping</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/CubeRefractionMapping.html"><strong>CubeRefractionMapping</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/CubicBezierCurve.html"><strong>CubicBezierCurve</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/CubicBezierCurve3.html"><strong>CubicBezierCurve3</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/CurvePath.html"><strong>CurvePath</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/CylinderGeometry.html"><strong>CylinderGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/DataTexture.html"><strong>DataTexture</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/DirectionalLight.html"><strong>DirectionalLight</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/EllipseCurve.html"><strong>EllipseCurve</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/EventEmitter.html"><strong>EventEmitter</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/EventEmitterEvent.html"><strong>EventEmitterEvent</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/ExtrudeGeometry.html"><strong>ExtrudeGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/ExtrudeGeometryWorldUVGenerator.html"><strong>ExtrudeGeometryWorldUVGenerator</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Face3.html"><strong>Face3</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Face4.html"><strong>Face4</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Fog.html"><strong>Fog</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/FogExp2.html"><strong>FogExp2</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/FogLinear.html"><strong>FogLinear</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Frustum.html"><strong>Frustum</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Geometry.html"><strong>Geometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/GeometryAttribute.html"><strong>GeometryAttribute&lt;T&gt;</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Gyroscope.html"><strong>Gyroscope</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/HemisphereLight.html"><strong>HemisphereLight</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/IcosahedronGeometry.html"><strong>IcosahedronGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/ImageList.html"><strong>ImageList</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/ImageLoader.html"><strong>ImageLoader</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/ImmediateRenderObject.html"><strong>ImmediateRenderObject</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Intersect.html"><strong>Intersect</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/JSONLoader.html"><strong>JSONLoader</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/LatheGeometry.html"><strong>LatheGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/LensFlare.html"><strong>LensFlare</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Light.html"><strong>Light</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Line.html"><strong>Line</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/LineBasicMaterial.html"><strong>LineBasicMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/LineCurve.html"><strong>LineCurve</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/LineCurve3.html"><strong>LineCurve3</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Loader.html"><strong>Loader</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/LOD.html"><strong>LOD</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Material.html"><strong>Material</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Mesh.html"><strong>Mesh</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/MeshBasicMaterial.html"><strong>MeshBasicMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/MeshDepthMaterial.html"><strong>MeshDepthMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/MeshFaceMaterial.html"><strong>MeshFaceMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/MeshLambertMaterial.html"><strong>MeshLambertMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/MeshNormalMaterial.html"><strong>MeshNormalMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/MeshPhongMaterial.html"><strong>MeshPhongMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/MorphAnimMesh.html"><strong>MorphAnimMesh</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/MorphColors.html"><strong>MorphColors</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/MorphTarget.html"><strong>MorphTarget</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Object3D.html"><strong>Object3D</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/OctahedronGeometry.html"><strong>OctahedronGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/OrthographicCamera.html"><strong>OrthographicCamera</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/ParametricGeometry.html"><strong>ParametricGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Particle.html"><strong>Particle</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/ParticleBasicMaterial.html"><strong>ParticleBasicMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/ParticleCanvasMaterial.html"><strong>ParticleCanvasMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/ParticleSystem.html"><strong>ParticleSystem</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Path.html"><strong>Path</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/PathAction.html"><strong>PathAction</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/PerspectiveCamera.html"><strong>PerspectiveCamera</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/PlaneGeometry.html"><strong>PlaneGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/PointLight.html"><strong>PointLight</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/PolyhedronGeometry.html"><strong>PolyhedronGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/PolyhedronGeometryVertex.html"><strong>PolyhedronGeometryVertex</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Program.html"><strong>Program</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Projector.html"><strong>Projector</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/ProjectorRenderData.html"><strong>ProjectorRenderData</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/QuadraticBezierCurve.html"><strong>QuadraticBezierCurve</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/QuadraticBezierCurve3.html"><strong>QuadraticBezierCurve3</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Ray.html"><strong>Ray</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Rectangle.html"><strong>Rectangle</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/RenderableFace.html"><strong>RenderableFace</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/RenderableFace3.html"><strong>RenderableFace3</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/RenderableFace4.html"><strong>RenderableFace4</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/RenderableLine.html"><strong>RenderableLine</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/RenderableObject.html"><strong>RenderableObject</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/RenderableParticle.html"><strong>RenderableParticle</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/RenderableVertex.html"><strong>RenderableVertex</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/RenderInts.html"><strong>RenderInts</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Ribbon.html"><strong>Ribbon</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Scene.html"><strong>Scene</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/ShaderMaterial.html"><strong>ShaderMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/ShadowCaster.html"><strong>ShadowCaster</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/ShadowMapPlugin.html"><strong>ShadowMapPlugin</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Shape.html"><strong>Shape</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/ShapeGeometry.html"><strong>ShapeGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/SkinnedMesh.html"><strong>SkinnedMesh</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/SphereGeometry.html"><strong>SphereGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/SphericalReflectionMapping.html"><strong>SphericalReflectionMapping</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/SphericalRefractionMapping.html"><strong>SphericalRefractionMapping</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/SplineCurve.html"><strong>SplineCurve</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/SplineCurve3.html"><strong>SplineCurve3</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/SpotLight.html"><strong>SpotLight</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Sprite.html"><strong>Sprite</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/SpriteAlignment.html"><strong>SpriteAlignment</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/TetrahedronGeometry.html"><strong>TetrahedronGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/TextGeometry.html"><strong>TextGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Texture.html"><strong>Texture</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/TorusGeometry.html"><strong>TorusGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/TorusKnotGeometry.html"><strong>TorusKnotGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/TubeGeometry.html"><strong>TubeGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/Uniform.html"><strong>Uniform&lt;T&gt;</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/UniformsUtils.html"><strong>UniformsUtils</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/UV.html"><strong>UV</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/UVMapping.html"><strong>UVMapping</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/VirtualLight.html"><strong>VirtualLight</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/WebGLCamera.html"><strong>WebGLCamera</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/WebGLGeometry.html"><strong>WebGLGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/WebGLImageList.html"><strong>WebGLImageList</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/WebGLMaterial.html"><strong>WebGLMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/WebGLObject.html"><strong>WebGLObject</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/WebGLRenderer.html"><strong>WebGLRenderer</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/WebGLRendererInfo.html"><strong>WebGLRendererInfo</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/WebGLRendererMemoryInfo.html"><strong>WebGLRendererMemoryInfo</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/WebGLRendererRenderInfo.html"><strong>WebGLRendererRenderInfo</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/WebGLRenderTarget.html"><strong>WebGLRenderTarget</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/WebGLRenderTargetCube.html"><strong>WebGLRenderTargetCube</strong></a>
          </h4>
          </div>
          
</div>
<div>
<h3>Typedefs</h3>
          <div class="type">
          <h4>
            <a href="three/LoadCompleteCallback.html"><strong>LoadCompleteCallback</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/LoadedCallback.html"><strong>LoadedCallback</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/LoadProgressCallback.html"><strong>LoadProgressCallback</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/LoadStartCallback.html"><strong>LoadStartCallback</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="three/ParticleCanvasMaterialProgram.html"><strong>ParticleCanvasMaterialProgram</strong></a>
          </h4>
          </div>
          
</div>
        </div>
        <div class="clear"></div>
        </div>
        <div class="footer">
          <div>This page was generated at 2013-11-08 17:35:30.865</div>
        </div>
        <script async src="client-static.js"></script>
        </body></html>
        
