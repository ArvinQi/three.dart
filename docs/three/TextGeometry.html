        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>TextGeometry class / three Library / Dart Documentation</title>
        <link rel="stylesheet" type="text/css"
            href="../styles.css">
        <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="../favicon.ico">
        
        </head>
        <body data-library="three" data-type="TextGeometry">
        <div class="page">
        <div class="header">
          <a href="../index.html"><div class="logo"></div></a>
          <a href="../index.html">Dart Documentation</a>
         &rsaquo; <a href="../three.html">three</a> &rsaquo; <a href="../three/TextGeometry.html">TextGeometry</a>        <div id="search-box">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </div>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
<h2><div class="icon-library"></div><a href="../CurveUtils.html">CurveUtils</a></h2><h2><div class="icon-library"></div><a href="../FirstPersonControls.html">FirstPersonControls</a></h2><h2><div class="icon-library"></div><a href="../FontUtils.html">FontUtils</a></h2><h2><div class="icon-library"></div><a href="../GeometryUtils.html">GeometryUtils</a></h2><h2><div class="icon-library"></div><a href="../ImageUtils.html">ImageUtils</a></h2><h2><div class="icon-library"></div><a href="../SceneUtils.html">SceneUtils</a></h2><h2><div class="icon-library"></div><a href="../ShaderUtils.html">ShaderUtils</a></h2><h2><div class="icon-library"></div><a href="../ShapeUtils.html">ShapeUtils</a></h2><h2><div class="icon-library"></div><a href="../three.html">three</a></h2><ul class="icon">
<li><a href="../three/AmbientLight.html"><div class="icon-class"></div>AmbientLight</a></li>
<li><a href="../three/ArcCurve.html"><div class="icon-class"></div>ArcCurve</a></li>
<li><a href="../three/ArrowHelper.html"><div class="icon-class"></div>ArrowHelper</a></li>
<li><a href="../three/Attribute.html"><div class="icon-class"></div>Attribute&lt;T&gt;</a></li>
<li><a href="../three/AxisHelper.html"><div class="icon-class"></div>AxisHelper</a></li>
<li><a href="../three/Bone.html"><div class="icon-class"></div>Bone</a></li>
<li><a href="../three/BoundingBox.html"><div class="icon-class"></div>BoundingBox</a></li>
<li><a href="../three/BoundingSphere.html"><div class="icon-class"></div>BoundingSphere</a></li>
<li><a href="../three/Buffer.html"><div class="icon-class"></div>Buffer</a></li>
<li><a href="../three/BufferGeometry.html"><div class="icon-class"></div>BufferGeometry</a></li>
<li><a href="../three/Camera.html"><div class="icon-class"></div>Camera</a></li>
<li><a href="../three/CameraHelper.html"><div class="icon-class"></div>CameraHelper</a></li>
<li><a href="../three/CanvasRenderData.html"><div class="icon-class"></div>CanvasRenderData</a></li>
<li><a href="../three/CanvasRenderer.html"><div class="icon-class"></div>CanvasRenderer</a></li>
<li><a href="../three/Chunk.html"><div class="icon-class"></div>Chunk</a></li>
<li><a href="../three/CircleGeometry.html"><div class="icon-class"></div>CircleGeometry</a></li>
<li><a href="../three/ClosedSplineCurve3.html"><div class="icon-class"></div>ClosedSplineCurve3</a></li>
<li><a href="../three/Color.html"><div class="icon-class"></div>Color</a></li>
<li><a href="../three/CompressedTexture.html"><div class="icon-class"></div>CompressedTexture</a></li>
<li><a href="../three/ConvexGeometry.html"><div class="icon-class"></div>ConvexGeometry</a></li>
<li><a href="../three/CSS3DObject.html"><div class="icon-class"></div>CSS3DObject</a></li>
<li><a href="../three/CSS3DRenderer.html"><div class="icon-class"></div>CSS3DRenderer</a></li>
<li><a href="../three/CubeGeometry.html"><div class="icon-class"></div>CubeGeometry</a></li>
<li><a href="../three/CubeGeomSides.html"><div class="icon-class"></div>CubeGeomSides</a></li>
<li><a href="../three/CubeReflectionMapping.html"><div class="icon-class"></div>CubeReflectionMapping</a></li>
<li><a href="../three/CubeRefractionMapping.html"><div class="icon-class"></div>CubeRefractionMapping</a></li>
<li><a href="../three/CubicBezierCurve.html"><div class="icon-class"></div>CubicBezierCurve</a></li>
<li><a href="../three/CubicBezierCurve3.html"><div class="icon-class"></div>CubicBezierCurve3</a></li>
<li><a href="../three/Curve.html"><div class="icon-class"></div>Curve&lt;V&gt;</a></li>
<li><a href="../three/Curve2D.html"><div class="icon-class"></div>Curve2D</a></li>
<li><a href="../three/Curve3D.html"><div class="icon-class"></div>Curve3D</a></li>
<li><a href="../three/CurvePath.html"><div class="icon-class"></div>CurvePath</a></li>
<li><a href="../three/CylinderGeometry.html"><div class="icon-class"></div>CylinderGeometry</a></li>
<li><a href="../three/DataTexture.html"><div class="icon-class"></div>DataTexture</a></li>
<li><a href="../three/DirectionalLight.html"><div class="icon-class"></div>DirectionalLight</a></li>
<li><a href="../three/EllipseCurve.html"><div class="icon-class"></div>EllipseCurve</a></li>
<li><a href="../three/EventEmitter.html"><div class="icon-class"></div>EventEmitter</a></li>
<li><a href="../three/EventEmitterEvent.html"><div class="icon-class"></div>EventEmitterEvent</a></li>
<li><a href="../three/ExtrudeGeometry.html"><div class="icon-class"></div>ExtrudeGeometry</a></li>
<li><a href="../three/ExtrudeGeometryWorldUVGenerator.html"><div class="icon-class"></div>ExtrudeGeometryWorldUVGenerator</a></li>
<li><a href="../three/Face.html"><div class="icon-class"></div>Face</a></li>
<li><a href="../three/Face3.html"><div class="icon-class"></div>Face3</a></li>
<li><a href="../three/Face4.html"><div class="icon-class"></div>Face4</a></li>
<li><a href="../three/Fog.html"><div class="icon-class"></div>Fog</a></li>
<li><a href="../three/FogExp2.html"><div class="icon-class"></div>FogExp2</a></li>
<li><a href="../three/FogLinear.html"><div class="icon-class"></div>FogLinear</a></li>
<li><a href="../three/Frustum.html"><div class="icon-class"></div>Frustum</a></li>
<li><a href="../three/Geometry.html"><div class="icon-class"></div>Geometry</a></li>
<li><a href="../three/GeometryAttribute.html"><div class="icon-class"></div>GeometryAttribute&lt;T&gt;</a></li>
<li><a href="../three/Gyroscope.html"><div class="icon-class"></div>Gyroscope</a></li>
<li><a href="../three/HemisphereLight.html"><div class="icon-class"></div>HemisphereLight</a></li>
<li><a href="../three/IcosahedronGeometry.html"><div class="icon-class"></div>IcosahedronGeometry</a></li>
<li><a href="../three/ImageList.html"><div class="icon-class"></div>ImageList</a></li>
<li><a href="../three/ImageLoader.html"><div class="icon-class"></div>ImageLoader</a></li>
<li><a href="../three/IMaterial.html"><div class="icon-class"></div>IMaterial</a></li>
<li><a href="../three/ImmediateRenderObject.html"><div class="icon-class"></div>ImmediateRenderObject</a></li>
<li><a href="../three/Intersect.html"><div class="icon-class"></div>Intersect</a></li>
<li><a href="../three/IParticleMaterial.html"><div class="icon-class"></div>IParticleMaterial</a></li>
<li><a href="../three/IRenderable.html"><div class="icon-class"></div>IRenderable</a></li>
<li><a href="../three/ITextureMapMaterial.html"><div class="icon-class"></div>ITextureMapMaterial</a></li>
<li><a href="../three/JSONLoader.html"><div class="icon-class"></div>JSONLoader</a></li>
<li><a href="../three/LatheGeometry.html"><div class="icon-class"></div>LatheGeometry</a></li>
<li><a href="../three/LensFlare.html"><div class="icon-class"></div>LensFlare</a></li>
<li><a href="../three/Light.html"><div class="icon-class"></div>Light</a></li>
<li><a href="../three/Line.html"><div class="icon-class"></div>Line</a></li>
<li><a href="../three/LineBasicMaterial.html"><div class="icon-class"></div>LineBasicMaterial</a></li>
<li><a href="../three/LineCurve.html"><div class="icon-class"></div>LineCurve</a></li>
<li><a href="../three/LineCurve3.html"><div class="icon-class"></div>LineCurve3</a></li>
<li><a href="../three/LoadCompleteCallback.html"><div class="icon-interface"></div>LoadCompleteCallback</a></li>
<li><a href="../three/LoadedCallback.html"><div class="icon-interface"></div>LoadedCallback</a></li>
<li><a href="../three/Loader.html"><div class="icon-class"></div>Loader</a></li>
<li><a href="../three/LoadProgressCallback.html"><div class="icon-interface"></div>LoadProgressCallback</a></li>
<li><a href="../three/LoadStartCallback.html"><div class="icon-interface"></div>LoadStartCallback</a></li>
<li><a href="../three/LOD.html"><div class="icon-class"></div>LOD</a></li>
<li><a href="../three/Material.html"><div class="icon-class"></div>Material</a></li>
<li><a href="../three/Mesh.html"><div class="icon-class"></div>Mesh</a></li>
<li><a href="../three/MeshBasicMaterial.html"><div class="icon-class"></div>MeshBasicMaterial</a></li>
<li><a href="../three/MeshDepthMaterial.html"><div class="icon-class"></div>MeshDepthMaterial</a></li>
<li><a href="../three/MeshFaceMaterial.html"><div class="icon-class"></div>MeshFaceMaterial</a></li>
<li><a href="../three/MeshLambertMaterial.html"><div class="icon-class"></div>MeshLambertMaterial</a></li>
<li><a href="../three/MeshNormalMaterial.html"><div class="icon-class"></div>MeshNormalMaterial</a></li>
<li><a href="../three/MeshPhongMaterial.html"><div class="icon-class"></div>MeshPhongMaterial</a></li>
<li><a href="../three/MorphAnimMesh.html"><div class="icon-class"></div>MorphAnimMesh</a></li>
<li><a href="../three/MorphColors.html"><div class="icon-class"></div>MorphColors</a></li>
<li><a href="../three/MorphTarget.html"><div class="icon-class"></div>MorphTarget</a></li>
<li><a href="../three/Object3D.html"><div class="icon-class"></div>Object3D</a></li>
<li><a href="../three/OctahedronGeometry.html"><div class="icon-class"></div>OctahedronGeometry</a></li>
<li><a href="../three/OrthographicCamera.html"><div class="icon-class"></div>OrthographicCamera</a></li>
<li><a href="../three/ParametricGeometry.html"><div class="icon-class"></div>ParametricGeometry</a></li>
<li><a href="../three/Particle.html"><div class="icon-class"></div>Particle</a></li>
<li><a href="../three/ParticleBasicMaterial.html"><div class="icon-class"></div>ParticleBasicMaterial</a></li>
<li><a href="../three/ParticleCanvasMaterial.html"><div class="icon-class"></div>ParticleCanvasMaterial</a></li>
<li><a href="../three/ParticleCanvasMaterialProgram.html"><div class="icon-interface"></div>ParticleCanvasMaterialProgram</a></li>
<li><a href="../three/ParticleSystem.html"><div class="icon-class"></div>ParticleSystem</a></li>
<li><a href="../three/Path.html"><div class="icon-class"></div>Path</a></li>
<li><a href="../three/PathAction.html"><div class="icon-class"></div>PathAction</a></li>
<li><a href="../three/PerspectiveCamera.html"><div class="icon-class"></div>PerspectiveCamera</a></li>
<li><a href="../three/PlaneGeometry.html"><div class="icon-class"></div>PlaneGeometry</a></li>
<li><a href="../three/PointLight.html"><div class="icon-class"></div>PointLight</a></li>
<li><a href="../three/PolyhedronGeometry.html"><div class="icon-class"></div>PolyhedronGeometry</a></li>
<li><a href="../three/PolyhedronGeometryVertex.html"><div class="icon-class"></div>PolyhedronGeometryVertex</a></li>
<li><a href="../three/Program.html"><div class="icon-class"></div>Program</a></li>
<li><a href="../three/Projector.html"><div class="icon-class"></div>Projector</a></li>
<li><a href="../three/ProjectorRenderData.html"><div class="icon-class"></div>ProjectorRenderData</a></li>
<li><a href="../three/QuadraticBezierCurve.html"><div class="icon-class"></div>QuadraticBezierCurve</a></li>
<li><a href="../three/QuadraticBezierCurve3.html"><div class="icon-class"></div>QuadraticBezierCurve3</a></li>
<li><a href="../three/Ray.html"><div class="icon-class"></div>Ray</a></li>
<li><a href="../three/Rectangle.html"><div class="icon-class"></div>Rectangle</a></li>
<li><a href="../three/RenderableFace.html"><div class="icon-class"></div>RenderableFace</a></li>
<li><a href="../three/RenderableFace3.html"><div class="icon-class"></div>RenderableFace3</a></li>
<li><a href="../three/RenderableFace4.html"><div class="icon-class"></div>RenderableFace4</a></li>
<li><a href="../three/RenderableLine.html"><div class="icon-class"></div>RenderableLine</a></li>
<li><a href="../three/RenderableObject.html"><div class="icon-class"></div>RenderableObject</a></li>
<li><a href="../three/RenderableParticle.html"><div class="icon-class"></div>RenderableParticle</a></li>
<li><a href="../three/RenderableVertex.html"><div class="icon-class"></div>RenderableVertex</a></li>
<li><a href="../three/Renderer.html"><div class="icon-class"></div>Renderer</a></li>
<li><a href="../three/RenderInts.html"><div class="icon-class"></div>RenderInts</a></li>
<li><a href="../three/Ribbon.html"><div class="icon-class"></div>Ribbon</a></li>
<li><a href="../three/Scene.html"><div class="icon-class"></div>Scene</a></li>
<li><a href="../three/ShaderMaterial.html"><div class="icon-class"></div>ShaderMaterial</a></li>
<li><a href="../three/ShadowCaster.html"><div class="icon-class"></div>ShadowCaster</a></li>
<li><a href="../three/ShadowMapPlugin.html"><div class="icon-class"></div>ShadowMapPlugin</a></li>
<li><a href="../three/Shape.html"><div class="icon-class"></div>Shape</a></li>
<li><a href="../three/ShapeGeometry.html"><div class="icon-class"></div>ShapeGeometry</a></li>
<li><a href="../three/SkinnedMesh.html"><div class="icon-class"></div>SkinnedMesh</a></li>
<li><a href="../three/SphereGeometry.html"><div class="icon-class"></div>SphereGeometry</a></li>
<li><a href="../three/SphericalReflectionMapping.html"><div class="icon-class"></div>SphericalReflectionMapping</a></li>
<li><a href="../three/SphericalRefractionMapping.html"><div class="icon-class"></div>SphericalRefractionMapping</a></li>
<li><a href="../three/SplineCurve.html"><div class="icon-class"></div>SplineCurve</a></li>
<li><a href="../three/SplineCurve3.html"><div class="icon-class"></div>SplineCurve3</a></li>
<li><a href="../three/SpotLight.html"><div class="icon-class"></div>SpotLight</a></li>
<li><a href="../three/Sprite.html"><div class="icon-class"></div>Sprite</a></li>
<li><a href="../three/SpriteAlignment.html"><div class="icon-class"></div>SpriteAlignment</a></li>
<li><a href="../three/TetrahedronGeometry.html"><div class="icon-class"></div>TetrahedronGeometry</a></li>
<li><div class="icon-class"></div><strong>TextGeometry</strong></li>
<li><a href="../three/Texture.html"><div class="icon-class"></div>Texture</a></li>
<li><a href="../three/TorusGeometry.html"><div class="icon-class"></div>TorusGeometry</a></li>
<li><a href="../three/TorusKnotGeometry.html"><div class="icon-class"></div>TorusKnotGeometry</a></li>
<li><a href="../three/TubeGeometry.html"><div class="icon-class"></div>TubeGeometry</a></li>
<li><a href="../three/Uniform.html"><div class="icon-class"></div>Uniform&lt;T&gt;</a></li>
<li><a href="../three/UniformsUtils.html"><div class="icon-class"></div>UniformsUtils</a></li>
<li><a href="../three/UV.html"><div class="icon-class"></div>UV</a></li>
<li><a href="../three/UVMapping.html"><div class="icon-class"></div>UVMapping</a></li>
<li><a href="../three/VirtualLight.html"><div class="icon-class"></div>VirtualLight</a></li>
<li><a href="../three/WebGLCamera.html"><div class="icon-class"></div>WebGLCamera</a></li>
<li><a href="../three/WebGLGeometry.html"><div class="icon-class"></div>WebGLGeometry</a></li>
<li><a href="../three/WebGLImageList.html"><div class="icon-class"></div>WebGLImageList</a></li>
<li><a href="../three/WebGLMaterial.html"><div class="icon-class"></div>WebGLMaterial</a></li>
<li><a href="../three/WebGLObject.html"><div class="icon-class"></div>WebGLObject</a></li>
<li><a href="../three/WebGLRenderer.html"><div class="icon-class"></div>WebGLRenderer</a></li>
<li><a href="../three/WebGLRendererInfo.html"><div class="icon-class"></div>WebGLRendererInfo</a></li>
<li><a href="../three/WebGLRendererMemoryInfo.html"><div class="icon-class"></div>WebGLRendererMemoryInfo</a></li>
<li><a href="../three/WebGLRendererRenderInfo.html"><div class="icon-class"></div>WebGLRendererRenderInfo</a></li>
<li><a href="../three/WebGLRenderTarget.html"><div class="icon-class"></div>WebGLRenderTarget</a></li>
<li><a href="../three/WebGLRenderTargetCube.html"><div class="icon-class"></div>WebGLRenderTargetCube</a></li>
</ul>
<h2><div class="icon-library"></div><a href="../ThreeMath.html">ThreeMath</a></h2><h2><div class="icon-library"></div><a href="../TrackballControls.html">TrackballControls</a></h2><h2><div class="icon-library"></div><a href="../tween.html">tween</a></h2><h2><div class="icon-library"></div><a href="../vector_math.html">vector_math</a></h2></div>
<div class="content">
        <h2><strong>TextGeometry</strong>
          class
        </h2>
        
<button id="show-inherited" class="show-inherited">Hide inherited</button>
<div class="doc">
<pre class="source">
class TextGeometry extends ExtrudeGeometry {
 factory TextGeometry( text, [ height = 50, // height &lt;=&gt; amount,
                               bend = false,

                               // ExtrudeGeometry parameters
                               bevelThickness = 10,
                               bevelSize = 8,
                               bevelSegments = 3,
                               bevelEnabled = false,


                               curveSegments = 12,
                               steps = 1,
                               bendPath,
                               extrudePath,
                               material,
                               extrudeMaterial,

                               // FontUtils.generateShapes parameters
                               size = 100,
                               font = "helvetiker",
                               weight = "normal",
                               style = "normal"
                               ] ) {

   var textShapes = FontUtils.generateShapes( text, size, curveSegments, font, weight, style);

   var amount = height;
   var bendPath = null;

   if (bend) {
     var b = textShapes[ textShapes.length - 1 ].getBoundingBox();
     var max = b.maxX;

     bendPath = new QuadraticBezierCurve(
         new Vector2.zero(),
         new Vector2( max / 2, 120.0 ),
         new Vector2( max, 0.0 )
     );
   }

   return new TextGeometry._internal(  textShapes,
                                       amount,
                                       bevelThickness,
                                       bevelSize,
                                       bevelSegments,
                                       bevelEnabled,
                                       curveSegments,
                                       steps,
                                       bendPath,
                                       extrudePath,
                                       material,
                                       extrudeMaterial);
 }

 TextGeometry._internal( shapes,
                         amount,
                         bevelThickness,
                         bevelSize,
                         bevelSegments,
                         bevelEnabled,
                         curveSegments,
                         steps,
                         bendPath,
                         extrudePath,
                         material,
                         extrudeMaterial) : super( shapes,
                                                   amount: amount,
                                                   bevelThickness: bevelThickness,
                                                   bevelSize: bevelSize,
                                                   bevelSegments: bevelSegments,
                                                   bevelEnabled: bevelEnabled,
                                                   curveSegments: curveSegments,
                                                   steps: steps,
                                                   bendPath: bendPath,
                                                   extrudePath: extrudePath,
                                                   material: material,
                                                   extrudeMaterial: extrudeMaterial);
}
</pre>
</div>
<h3>Extends</h3>
<p>
<span class="type-box"><span class="icon-class"></span><a href="../three/Geometry.html">Geometry</a></span>&nbsp;&gt;&nbsp;<span class="type-box"><span class="icon-class"></span><a href="../three/ExtrudeGeometry.html">ExtrudeGeometry</a></span>&nbsp;&gt;&nbsp;<span class="type-box"><span class="icon-class"></span><strong>TextGeometry</strong></span></p>
<div>
<h3>Constructors</h3>
<div class="method"><h4 id="">
<button class="show-code">Code</button>
factory <strong>TextGeometry</strong>(text, [height = 50, bend = false, bevelThickness = 10, bevelSize = 8, bevelSegments = 3, bevelEnabled = false, curveSegments = 12, steps = 1, bendPath, extrudePath, material, extrudeMaterial, size = 100, font = "helvetiker", weight = "normal", style = "normal"]) <a class="anchor-link" href="#"
              title="Permalink to TextGeometry.TextGeometry">#</a></h4>
<div class="doc">
<div class="inherited">
<p>Creates a new <a class="crossref" href="../dart_core/Object.html">Object</a> instance.</p>
<p><a class="crossref" href="../dart_core/Object.html">Object</a> instances have no meaningful state, and are only useful
through their identity. An <a class="crossref" href="../dart_core/Object.html">Object</a> instance is equal to itself
only.</p>
<div class="docs-inherited-from">docs inherited from <a href="http://api.dartlang.org/dart_core/Object.html">Object</a> </div></div>
<pre class="source">
factory TextGeometry( text, [ height = 50, // height &lt;=&gt; amount,
                             bend = false,

                             // ExtrudeGeometry parameters
                             bevelThickness = 10,
                             bevelSize = 8,
                             bevelSegments = 3,
                             bevelEnabled = false,


                             curveSegments = 12,
                             steps = 1,
                             bendPath,
                             extrudePath,
                             material,
                             extrudeMaterial,

                             // FontUtils.generateShapes parameters
                             size = 100,
                             font = "helvetiker",
                             weight = "normal",
                             style = "normal"
                             ] ) {

 var textShapes = FontUtils.generateShapes( text, size, curveSegments, font, weight, style);

 var amount = height;
 var bendPath = null;

 if (bend) {
   var b = textShapes[ textShapes.length - 1 ].getBoundingBox();
   var max = b.maxX;

   bendPath = new QuadraticBezierCurve(
       new Vector2.zero(),
       new Vector2( max / 2, 120.0 ),
       new Vector2( max, 0.0 )
   );
 }

 return new TextGeometry._internal(  textShapes,
                                     amount,
                                     bevelThickness,
                                     bevelSize,
                                     bevelSegments,
                                     bevelEnabled,
                                     curveSegments,
                                     steps,
                                     bendPath,
                                     extrudePath,
                                     material,
                                     extrudeMaterial);
}
</pre>
</div>
</div>
</div>
<div class="inherited">
<h3>Properties</h3>
<div class="field inherited"><h4 id="animation">
<button class="show-code">Code</button>
var         <strong>animation</strong> <a class="anchor-link"
            href="#animation"
            title="Permalink to TextGeometry.animation">#</a>
        </h4>
        <div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
var bones, animation
</pre>
</div>
</div>
<div class="field inherited"><h4 id="bones">
<button class="show-code">Code</button>
var         <strong>bones</strong> <a class="anchor-link"
            href="#bones"
            title="Permalink to TextGeometry.bones">#</a>
        </h4>
        <div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
var bones
</pre>
</div>
</div>
<div class="field inherited"><h4 id="boundingBox">
<button class="show-code">Code</button>
<a href="../three/BoundingBox.html">BoundingBox</a>         <strong>boundingBox</strong> <a class="anchor-link"
            href="#boundingBox"
            title="Permalink to TextGeometry.boundingBox">#</a>
        </h4>
        <div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
BoundingBox boundingBox
</pre>
</div>
</div>
<div class="field inherited"><h4 id="boundingSphere">
<button class="show-code">Code</button>
<a href="../three/BoundingSphere.html">BoundingSphere</a>         <strong>boundingSphere</strong> <a class="anchor-link"
            href="#boundingSphere"
            title="Permalink to TextGeometry.boundingSphere">#</a>
        </h4>
        <div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
BoundingSphere boundingSphere
</pre>
</div>
</div>
<div class="field inherited"><h4 id="colors">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/List.html">List</a>         <strong>colors</strong> <a class="anchor-link"
            href="#colors"
            title="Permalink to TextGeometry.colors">#</a>
        </h4>
        <div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
List colors
</pre>
</div>
</div>
<div class="field inherited"><h4 id="faces">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/List.html">List</a>&lt;<a href="../three/Face.html">Face</a>&gt;         <strong>faces</strong> <a class="anchor-link"
            href="#faces"
            title="Permalink to TextGeometry.faces">#</a>
        </h4>
        <div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
List&lt;Face&gt; faces
</pre>
</div>
</div>
<div class="field inherited"><h4 id="faceUvs">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/List.html">List</a>         <strong>faceUvs</strong> <a class="anchor-link"
            href="#faceUvs"
            title="Permalink to TextGeometry.faceUvs">#</a>
        </h4>
        <div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
List faceUvs
</pre>
</div>
</div>
<div class="field inherited"><h4 id="faceVertexUvs">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/List.html">List</a>&lt;<a href="http://api.dartlang.org/dart_core/List.html">List</a>&gt;         <strong>faceVertexUvs</strong> <a class="anchor-link"
            href="#faceVertexUvs"
            title="Permalink to TextGeometry.faceVertexUvs">#</a>
        </h4>
        <div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
List&lt;List&gt; faceVertexUvs
</pre>
</div>
</div>
<div class="field inherited"><h4 id="hasTangents">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/bool.html">bool</a>         <strong>hasTangents</strong> <a class="anchor-link"
            href="#hasTangents"
            title="Permalink to TextGeometry.hasTangents">#</a>
        </h4>
        <div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
bool hasTangents
</pre>
</div>
</div>
<div class="field inherited"><h4 id="id">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>id</strong> <a class="anchor-link"
            href="#id"
            title="Permalink to TextGeometry.id">#</a>
        </h4>
        <div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
int id
</pre>
</div>
</div>
<div class="field inherited"><h4 id="isDynamic">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/bool.html">bool</a>         <strong>isDynamic</strong> <a class="anchor-link"
            href="#isDynamic"
            title="Permalink to TextGeometry.isDynamic">#</a>
        </h4>
        <div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
bool get isDynamic =&gt; _dynamic;
</pre>
<pre class="source">
set isDynamic(bool value) =&gt; _dynamic = value;
</pre>
</div>
</div>
<div class="field inherited"><h4 id="lineDistances">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/List.html">List</a>         <strong>lineDistances</strong> <a class="anchor-link"
            href="#lineDistances"
            title="Permalink to TextGeometry.lineDistances">#</a>
        </h4>
        <div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
List lineDistances
</pre>
</div>
</div>
<div class="field inherited"><h4 id="materials">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/List.html">List</a>         <strong>materials</strong> <a class="anchor-link"
            href="#materials"
            title="Permalink to TextGeometry.materials">#</a>
        </h4>
        <div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
List materials
</pre>
</div>
</div>
<div class="field inherited"><h4 id="morphColors">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/List.html">List</a>         <strong>morphColors</strong> <a class="anchor-link"
            href="#morphColors"
            title="Permalink to TextGeometry.morphColors">#</a>
        </h4>
        <div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
List morphColors
</pre>
</div>
</div>
<div class="field inherited"><h4 id="morphNormals">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/List.html">List</a>         <strong>morphNormals</strong> <a class="anchor-link"
            href="#morphNormals"
            title="Permalink to TextGeometry.morphNormals">#</a>
        </h4>
        <div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
List morphColors, morphNormals
</pre>
</div>
</div>
<div class="field inherited"><h4 id="morphTargets">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/List.html">List</a>&lt;<a href="../three/MorphTarget.html">MorphTarget</a>&gt;         <strong>morphTargets</strong> <a class="anchor-link"
            href="#morphTargets"
            title="Permalink to TextGeometry.morphTargets">#</a>
        </h4>
        <div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
List&lt;MorphTarget&gt; morphTargets
</pre>
</div>
</div>
<div class="field inherited"><h4 id="name">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/String.html">String</a>         <strong>name</strong> <a class="anchor-link"
            href="#name"
            title="Permalink to TextGeometry.name">#</a>
        </h4>
        <div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
String name
</pre>
</div>
</div>
<div class="field inherited"><h4 id="normals">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/List.html">List</a>         <strong>normals</strong> <a class="anchor-link"
            href="#normals"
            title="Permalink to TextGeometry.normals">#</a>
        </h4>
        <div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
List normals = []
</pre>
</div>
</div>
<div class="field inherited"><h4 id="shapebb">
<button class="show-code">Code</button>
var         <strong>shapebb</strong> <a class="anchor-link"
            href="#shapebb"
            title="Permalink to TextGeometry.shapebb">#</a>
        </h4>
        <div class="inherited-from">inherited from <a href="../three/ExtrudeGeometry.html">ExtrudeGeometry</a> </div><div class="doc">
<pre class="source">
var shapebb
</pre>
</div>
</div>
<div class="field inherited"><h4 id="shapes">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/List.html">List</a>         <strong>shapes</strong> <a class="anchor-link"
            href="#shapes"
            title="Permalink to TextGeometry.shapes">#</a>
        </h4>
        <div class="inherited-from">inherited from <a href="../three/ExtrudeGeometry.html">ExtrudeGeometry</a> </div><div class="doc">
<pre class="source">
List shapes
</pre>
</div>
</div>
<div class="field inherited"><h4 id="skinIndices">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/List.html">List</a>         <strong>skinIndices</strong> <a class="anchor-link"
            href="#skinIndices"
            title="Permalink to TextGeometry.skinIndices">#</a>
        </h4>
        <div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
List skinWeights, skinIndices
</pre>
</div>
</div>
<div class="field inherited"><h4 id="skinWeights">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/List.html">List</a>         <strong>skinWeights</strong> <a class="anchor-link"
            href="#skinWeights"
            title="Permalink to TextGeometry.skinWeights">#</a>
        </h4>
        <div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
List skinWeights
</pre>
</div>
</div>
<div class="field inherited"><h4 id="vertices">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/List.html">List</a>&lt;<a href="../vector_math/Vector3.html">Vector3</a>&gt;         <strong>vertices</strong> <a class="anchor-link"
            href="#vertices"
            title="Permalink to TextGeometry.vertices">#</a>
        </h4>
        <div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
List&lt;Vector3&gt; vertices
</pre>
</div>
</div>
</div>
<div class="inherited">
<h3>Operators</h3>
<div class="method inherited"><h4 id="[]">
<button class="show-code">Code</button>
dynamic <strong>operator []</strong>(<a href="http://api.dartlang.org/dart_core/String.html">String</a> key) <a class="anchor-link" href="#[]"
              title="Permalink to TextGeometry.operator []">#</a></h4>
<div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
operator [] (String key) =&gt; _data[key];
</pre>
</div>
</div>
<div class="method inherited"><h4 id="[]=">
<button class="show-code">Code</button>
dynamic <strong>operator []=</strong>(<a href="http://api.dartlang.org/dart_core/String.html">String</a> key, value) <a class="anchor-link" href="#[]="
              title="Permalink to TextGeometry.operator []=">#</a></h4>
<div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
operator []= (String key, value) =&gt; _data[key] = value;
</pre>
</div>
</div>
</div>
<div class="inherited">
<h3>Methods</h3>
<div class="method inherited"><h4 id="addShape">
<button class="show-code">Code</button>
dynamic <strong>addShape</strong>(<a href="../three/Shape.html">Shape</a> shape, amount, bevelThickness, bevelSize, bevelSegments, bevelEnabled, curveSegments, steps, bendPath, extrudePath, <a href="../three/TubeGeometry.html">TubeGeometry</a> frames, material, extrudeMaterial, {<a href="../three/ExtrudeGeometryWorldUVGenerator.html">ExtrudeGeometryWorldUVGenerator</a> UVGenerator}) <a class="anchor-link" href="#addShape"
              title="Permalink to TextGeometry.addShape">#</a></h4>
<div class="inherited-from">inherited from <a href="../three/ExtrudeGeometry.html">ExtrudeGeometry</a> </div><div class="doc">
<pre class="source">
addShape( Shape shape, amount, bevelThickness, bevelSize, bevelSegments, bevelEnabled,
         curveSegments, steps, bendPath, extrudePath, TubeGeometry frames, material, extrudeMaterial,
         {ExtrudeGeometryWorldUVGenerator UVGenerator }) {


 var extrudePts, extrudeByPath = false;

 //shapebb = shape.getBoundingBox();

 // set UV generator
 var uvgen = (UVGenerator!= null) ? UVGenerator : new ExtrudeGeometryWorldUVGenerator();

 TubeGeometry splineTube;
 Vector3 binormal, normal, position2;

 var nSteps = (steps is List)? steps.length : steps;

 if ( extrudePath != null ) {

   if(steps is List){
     List divisions = [0];
     divisions.addAll(steps);
     extrudePts = extrudePath.getUPoints(divisions);
   } else{
     extrudePts =  extrudePath.getSpacedPoints( steps );
   }

   extrudeByPath = true;
   bevelEnabled = false; // bevels not supported for path extrusion

   // SETUP TNB variables

   // Reuse TNB from TubeGeomtry for now.
   // TODO1 - have a .isClosed in spline?
   splineTube = (frames != null) ? frames : new TubeGeometry.FrenetFrames(extrudePath, steps, false);

   // console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);

   binormal = new Vector3.zero();
   normal = new Vector3.zero();
   position2 = new Vector3.zero();

 }

 // Safeguards if bevels are not enabled

 if ( ! bevelEnabled ) {

   bevelSegments = 0;
   bevelThickness = 0;
   bevelSize = 0;

 }

 // Variables initalization

 List&lt;Vector2&gt; ahole;
 var h, hl; // looping of holes

 var bevelPoints = [];

 var shapesOffset = this.vertices.length;

 if ( bendPath != null ) {

   shape.addWrapPath( bendPath );

 }

 var shapePoints = shape.extractPoints();

 List vertices = shapePoints["shape"];
 List&lt;List&lt;Vector2&gt;&gt; holes = shapePoints["holes"];

 var reverse = !ShapeUtils.isClockWise( vertices ) ;

 if ( reverse ) {

   vertices = _reverse(vertices);

   // Maybe we should also check if holes are in the opposite direction, just to be safe ...

   for ( h = 0; h &lt; holes.length; h ++ ) {

     ahole = holes[ h ];

     if ( ShapeUtils.isClockWise( ahole ) ) {

       holes[ h ] = _reverse(ahole);

     }

   }

   reverse = false; // If vertices are in order now, we shouldn't need to worry about them again (hopefully)!

 }



 var faces = ShapeUtils.triangulateShape ( vertices, holes );
 //var faces = THREE.Shape.Utils.triangulate2( vertices, holes );

 // Would it be better to move points after triangulation?
 // shapePoints = shape.extractAllPointsWithBend( curveSegments, bendPath );
 //  vertices = shapePoints.shape;
 //  holes = shapePoints.holes;

 //console.log(faces);

 ////
 ///   Handle Vertices
 ////

 var contour = vertices; // vertices has all points but contour has only points of circumference

 for ( h = 0;  h &lt; holes.length; h ++ ) {

   ahole = holes[ h ];

   vertices = new List.from(vertices);
   vertices.addAll( ahole );

 }


 var b, bs, t, z,
   vert, vlen = vertices.length,
   face, flen = faces.length,
   cont, clen = contour.length;


 //------
 // Find directions for point movement
 //



 var contourMovements = new List(contour.length);

 num i = 0,
     il = contour.length,
     j = il - 1,
     k = i + 1;
 for ( i = 0; i &lt; il; i ++ ) {

   if ( j == il ) j = 0;
   if ( k == il ) k = 0;

   //  (j)---(i)---(k)
   // console.log('i,j,k', i, j , k)

   var pt_i = contour[ i ];
   var pt_j = contour[ j ];
   var pt_k = contour[ k ];

   contourMovements[ i ]= _getBevelVec( contour[ i ], contour[ j ], contour[ k ] );
   j ++; k ++;
 }

 List  holesMovements = [],
       oneHoleMovements,
       verticesMovements = new List.from(contourMovements);

 for ( h = 0; h &lt; holes.length; h ++ ) {

   ahole = holes[ h ];

   oneHoleMovements = new List(ahole.length);

   i = 0;
   il = ahole.length;
   j = il - 1;
   k = i + 1;

   for ( i = 0; i &lt; il; i++) {

     if ( j == il ) j = 0;
     if ( k == il ) k = 0;

     //  (j)---(i)---(k)
     oneHoleMovements[ i ]= _getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );
     j++;
     k++;
   }

   holesMovements.add( oneHoleMovements );
   verticesMovements.addAll( oneHoleMovements );

 }


 // Loop bevelSegments, 1 for the front, 1 for the back

 for ( b = 0; b &lt; bevelSegments; b ++ ) {
 //for ( b = bevelSegments; b &gt; 0; b -- ) {

   t = b / bevelSegments;
   z = bevelThickness * ( 1 - t );

   //z = bevelThickness * t;
   bs = bevelSize * ( Math.sin ( t * Math.PI/2 ) ) ; // curved
   //bs = bevelSize * t ; // linear

   // contract shape

   for ( i = 0; i &lt; contour.length; i ++ ) {

     vert = _scalePt2( contour[ i ], contourMovements[ i ], bs );
     //vert = scalePt( contour[ i ], contourCentroid, bs, false );
     _v( vert.x, vert.y,  - z );

   }

   // expand holes

   for ( h = 0; h &lt; holes.length; h++ ) {

     ahole = holes[ h ];
     oneHoleMovements = holesMovements[ h ];

     for ( i = 0; i &lt; ahole.length; i++ ) {

       vert = _scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );
       //vert = scalePt( ahole[ i ], holesCentroids[ h ], bs, true );

       _v( vert.x, vert.y,  -z );

     }

   }

 }


 bs = bevelSize;

 // Back facing vertices

 for ( i = 0; i &lt; vlen; i ++ ) {

   vert = bevelEnabled ? _scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];

   if ( !extrudeByPath ) {

     _v( vert.x, vert.y, 0.0 );

   } else {

     // v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );

     normal.setFrom(splineTube.normals[0]).scale(vert.x);
     binormal.setFrom(splineTube.binormals[0]).scale(vert.y);

     position2.setFrom(extrudePts[0]).add(normal).add(binormal);

     _v(position2.x, position2.y, position2.z);

   }

 }

 // Add stepped vertices...
 // Including front facing vertices

 var s;

 for ( s = 1; s &lt;= nSteps; s ++ ) {

   for ( i = 0; i &lt; vlen; i ++ ) {

     vert = bevelEnabled ? _scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];

     if ( !extrudeByPath ) {

       _v( vert.x, vert.y, amount / nSteps * s );

     } else {

       // v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );

       normal.setFrom(splineTube.normals[s]).scale(vert.x);
       binormal.setFrom(splineTube.binormals[s]).scale(vert.y);

       position2.setFrom(extrudePts[s]).add(normal).add(binormal);

       _v(position2.x, position2.y, position2.z );

     }

   }

 }


 // Add bevel segments planes

 //for ( b = 1; b &lt;= bevelSegments; b ++ ) {
 for ( b = bevelSegments - 1; b &gt;= 0; b -- ) {

   t = b / bevelSegments;
   z = bevelThickness * ( 1 - t );
   //bs = bevelSize * ( 1-Math.sin ( ( 1 - t ) * Math.PI/2 ) );
   bs = bevelSize * Math.sin ( t * Math.PI/2 ) ;

   // contract shape

   for ( i = 0; i &lt; contour.length; i ++ ) {

     vert = _scalePt2( contour[ i ], contourMovements[ i ], bs );
     _v( vert.x, vert.y,  amount + z );

   }

   // expand holes

   for ( h = 0; h &lt; holes.length; h ++ ) {

     ahole = holes[ h ];
     oneHoleMovements = holesMovements[ h ];

     for ( i = 0; i &lt; ahole.length; i++ ) {

       vert = _scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );

       if ( !extrudeByPath ) {

         _v( vert.x, vert.y,  amount + z );

       } else {

         _v( vert.x, vert.y + extrudePts[ nSteps - 1 ].y, extrudePts[ nSteps - 1 ].x + z );

       }

     }

   }

 }


 ////
 ///   Handle Faces
 ////

/////  Internal functions

 f3( a, b, c, isBottom ) {
   a += shapesOffset;
   b += shapesOffset;
   c += shapesOffset;

   // normal, color, material
   this.faces.add( new Face3( a, b, c, null, null, material ) );

   var uvs = isBottom ? uvgen.generateBottomUV( this, shape, null, a, b, c)
                      : uvgen.generateTopUV( this, shape, null, a, b, c);

   this.faceVertexUvs[ 0 ].add(uvs);
 }

 f4( a, b, c, d, wallContour, stepIndex, stepsLength ) {
   a += shapesOffset;
   b += shapesOffset;
   c += shapesOffset;
   d += shapesOffset;

   this.faces.add( new Face4( a, b, c, d, null, null, extrudeMaterial ) );

   var uvs = uvgen.generateSideWallUV( this, shape, wallContour, null, a, b, c, d, stepIndex, stepsLength);
   this.faceVertexUvs[ 0 ].add(uvs);
 }

 // Top and bottom faces
 //buildLidFaces() {
 if ( bevelEnabled ) {

   var layer = 0 ; // steps + 1
   var offset = vlen * layer;

   // Bottom faces

   for ( i = 0; i &lt; flen; i ++ ) {

     face = faces[ i ];
     f3( face[ 2 ]+ offset, face[ 1 ]+ offset, face[ 0 ] + offset, true );

   }

   layer = nSteps + bevelSegments * 2;
   offset = vlen * layer;

   // Top faces

   for ( i = 0; i &lt; flen; i ++ ) {
     face = faces[ i ];
     f3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset, false );
   }
 } else {

   // Bottom faces

   for ( i = 0; i &lt; flen; i++ ) {
     face = faces[ i ];
     f3( face[ 2 ], face[ 1 ], face[ 0 ], true );
   }

   // Top faces

   for ( i = 0; i &lt; flen; i ++ ) {
     face = faces[ i ];
     f3( face[ 0 ] + vlen * nSteps, face[ 1 ] + vlen * nSteps, face[ 2 ] + vlen * nSteps, false );
   }
 }

 sidewalls( contour, layeroffset ) {
   var i, j, k;
   i = contour.length;

   while ( --i &gt;= 0 ) {
     j = i;
     k = i - 1;
     if ( k &lt; 0 ) k = contour.length - 1;

     //console.log('b', i,j, i-1, k,vertices.length);

     var s = 0, sl = nSteps  + bevelSegments * 2;

     for ( s = 0; s &lt; sl; s ++ ) {
       var slen1 = vlen * s;
       var slen2 = vlen * ( s + 1 );
       var a = layeroffset + j + slen1,
         b = layeroffset + k + slen1,
         c = layeroffset + k + slen2,
         d = layeroffset + j + slen2;

       f4( a, b, c, d, contour, s, sl );
     }
   }
 }

 // Sides faces
 //buildSideFaces() {
 // Create faces for the z-sides of the shape
 var layeroffset = 0;
 sidewalls( contour, layeroffset );
 layeroffset += contour.length;

 for ( h = 0;  h &lt; holes.length; h ++ ) {
   ahole = holes[ h ];
   sidewalls( ahole, layeroffset );

   //, true
   layeroffset += ahole.length;
 }
}
</pre>
</div>
</div>
<div class="method inherited"><h4 id="addShapeList">
<button class="show-code">Code</button>
dynamic <strong>addShapeList</strong>(shapes, amount, bevelThickness, bevelSize, bevelSegments, bevelEnabled, curveSegments, steps, bendPath, extrudePath, frames, material, extrudeMaterial) <a class="anchor-link" href="#addShapeList"
              title="Permalink to TextGeometry.addShapeList">#</a></h4>
<div class="inherited-from">inherited from <a href="../three/ExtrudeGeometry.html">ExtrudeGeometry</a> </div><div class="doc">
<pre class="source">
addShapeList(shapes, amount, bevelThickness, bevelSize, bevelSegments,bevelEnabled,
            curveSegments,steps,bendPath,extrudePath,frames,material, extrudeMaterial) {
 var sl = shapes.length;

 for ( var s = 0; s &lt; sl; s ++ ) {
   var shape = shapes[ s ];
   addShape( shape, amount, bevelThickness, bevelSize, bevelSegments,bevelEnabled,
             curveSegments, steps, bendPath, extrudePath, frames, material, extrudeMaterial );
 }
}
</pre>
</div>
</div>
<div class="method inherited"><h4 id="applyMatrix">
<button class="show-code">Code</button>
void <strong>applyMatrix</strong>(<a href="../vector_math/Matrix4.html">Matrix4</a> matrix) <a class="anchor-link" href="#applyMatrix"
              title="Permalink to TextGeometry.applyMatrix">#</a></h4>
<div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
void applyMatrix( Matrix4 matrix ) {
 Matrix4 matrixRotation = new Matrix4.identity();
 extractRotation( matrixRotation, matrix);

 vertices.forEach((vertex) =&gt;  vertex.applyProjection(matrix));

 faces.forEach((face) {

   face.normal.applyProjection(matrixRotation);

   face.vertexNormals.forEach((normal) =&gt; normal.applyProjection(matrixRotation));

   face.centroid.applyProjection(matrix);
 });
}
</pre>
</div>
</div>
<div class="method inherited"><h4 id="clone">
<button class="show-code">Code</button>
dynamic <strong>clone</strong>() <a class="anchor-link" href="#clone"
              title="Permalink to TextGeometry.clone">#</a></h4>
<div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
clone() {

 // TODO

}
</pre>
</div>
</div>
<div class="method inherited"><h4 id="computeBoundingBox">
<button class="show-code">Code</button>
void <strong>computeBoundingBox</strong>() <a class="anchor-link" href="#computeBoundingBox"
              title="Permalink to TextGeometry.computeBoundingBox">#</a></h4>
<div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
void computeBoundingBox() {
 if ( boundingBox == null ) {
   boundingBox = new BoundingBox( min: new Vector3.zero(), max: new Vector3.zero() );
 }

 if ( vertices.length &gt; 0 ) {
   Vector3 position, firstPosition = vertices[ 0 ];

   boundingBox.min.setFrom( firstPosition );
   boundingBox.max.setFrom( firstPosition );

   Vector3 min = boundingBox.min,
           max = boundingBox.max;

   num vl = vertices.length;
   for ( int v = 1; v &lt; vl; v ++ ) {
     position = vertices[ v ];

     if ( position.x &lt; min.x ) {
       min.x = position.x;
     } else if ( position.x &gt; max.x ) {
       max.x = position.x;
     }

     if ( position.y &lt; min.y ) {
       min.y = position.y;
     } else if ( position.y &gt; max.y ) {
       max.y = position.y;
     }

     if ( position.z &lt; min.z ) {
       min.z = position.z;
     } else if ( position.z &gt; max.z ) {
       max.z = position.z;
     }
   }
 }
}
</pre>
</div>
</div>
<div class="method inherited"><h4 id="computeBoundingSphere">
<button class="show-code">Code</button>
void <strong>computeBoundingSphere</strong>() <a class="anchor-link" href="#computeBoundingSphere"
              title="Permalink to TextGeometry.computeBoundingSphere">#</a></h4>
<div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
void computeBoundingSphere() {
 num radiusSq;

 var maxRadiusSq = vertices.fold(0, (num curMaxRadiusSq, Vector3 vertex) {
   radiusSq = vertex.length2;
   return ( radiusSq &gt; curMaxRadiusSq ) ?  radiusSq : curMaxRadiusSq;
 });

 boundingSphere = new BoundingSphere(radius: Math.sqrt(maxRadiusSq) );
}
</pre>
</div>
</div>
<div class="method inherited"><h4 id="computeCentroids">
<button class="show-code">Code</button>
void <strong>computeCentroids</strong>() <a class="anchor-link" href="#computeCentroids"
              title="Permalink to TextGeometry.computeCentroids">#</a></h4>
<div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
void computeCentroids() {

 faces.forEach((Face face) {

   face.centroid.setValues( 0.0, 0.0, 0.0 );

   face.indices.forEach((idx) {
     face.centroid.add( vertices[ idx ] );
   });

   face.centroid /= face.size.toDouble();

 });
}
</pre>
</div>
</div>
<div class="method inherited"><h4 id="computeFaceNormals">
<button class="show-code">Code</button>
void <strong>computeFaceNormals</strong>() <a class="anchor-link" href="#computeFaceNormals"
              title="Permalink to TextGeometry.computeFaceNormals">#</a></h4>
<div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
void computeFaceNormals() {
 faces.forEach((face) {

   var vA = vertices[ face.a ],
       vB = vertices[ face.b ],
       vC = vertices[ face.c ];

   Vector3 cb = vC - vB;
   Vector3 ab = vA - vB;
   cb = cb.cross( ab );

   cb.normalize();

   face.normal = cb;

 });
}
</pre>
</div>
</div>
<div class="method inherited"><h4 id="computeTangents">
<button class="show-code">Code</button>
void <strong>computeTangents</strong>() <a class="anchor-link" href="#computeTangents"
              title="Permalink to TextGeometry.computeTangents">#</a></h4>
<div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
void computeTangents() {
 // based on http://www.terathon.com/code/tangent.html
 // tangents go to vertices

 var f, fl, face;
 num i, il, vertexIndex, test, w;
 Vector3 vA, vB, vC;
 UV uvA, uvB, uvC;

 List uv;

 num x1, x2, y1, y2, z1, z2, s1, s2, t1, t2, r;

 Vector3 sdir = new Vector3.zero(),
         tdir = new Vector3.zero(),
         tmp = new Vector3.zero(),
         tmp2 = new Vector3.zero(),
         n = new Vector3.zero(),
         t;

 List&lt;Vector3&gt; tan1 = vertices.map((_) =&gt; new Vector3.zero()).toList(),
               tan2 = vertices.map((_) =&gt; new Vector3.zero()).toList();

 var handleTriangle = ( context, a, b, c, ua, ub, uc ) {

   vA = context.vertices[ a ];
   vB = context.vertices[ b ];
   vC = context.vertices[ c ];

   uvA = uv[ ua ];
   uvB = uv[ ub ];
   uvC = uv[ uc ];

   x1 = vB.x - vA.x;
   x2 = vC.x - vA.x;
   y1 = vB.y - vA.y;
   y2 = vC.y - vA.y;
   z1 = vB.z - vA.z;
   z2 = vC.z - vA.z;

   s1 = uvB.u - uvA.u;
   s2 = uvC.u - uvA.u;
   t1 = uvB.v - uvA.v;
   t2 = uvC.v - uvA.v;

   r = 1.0 / ( s1 * t2 - s2 * t1 );
   sdir.setValues( ( t2 * x1 - t1 * x2 ) * r,
       ( t2 * y1 - t1 * y2 ) * r,
       ( t2 * z1 - t1 * z2 ) * r );
   tdir.setValues( ( s1 * x2 - s2 * x1 ) * r,
         ( s1 * y2 - s2 * y1 ) * r,
         ( s1 * z2 - s2 * z1 ) * r );

   tan1[ a ].add( sdir );
   tan1[ b ].add( sdir );
   tan1[ c ].add( sdir );

   tan2[ a ].add( tdir );
   tan2[ b ].add( tdir );
   tan2[ c ].add( tdir );

 };

 fl = this.faces.length;

 for ( f = 0; f &lt; fl; f ++ ) {

   face = this.faces[ f ];
   UV uv = faceVertexUvs[ 0 ][ f ]; // use UV layer 0 for tangents

   // TODO - Come up with a way to handle an arbitrary number of vertexes
   var triangles = [];
   if ( face.size == 3 ) {
     triangles.add([0, 1, 2]);
   } else if ( face.size == 4 ) {
     triangles.add([0, 1, 3]);
     triangles.add([1, 2, 3]);
   }

   triangles.forEach((t) {
     handleTriangle( this, face.indices[t[0]], face.indices[t[1]], face.indices[t[2]], t[0], t[1], t[2] );
   });
 }

 faces.forEach((face) {

   il = face.vertexNormals.length;

   for ( i = 0; i &lt; il; i++ ) {

     n.setFrom( face.vertexNormals[ i ] );

     vertexIndex = face.indices[i];

     t = tan1[ vertexIndex ];

     // Gram-Schmidt orthogonalize

     tmp.setFrom( t );
     tmp.sub( n.scale( n.dot( t ) ) ).normalize();

     // Calculate handedness

     tmp2 = face.vertexNormals[i].cross(t);
     test = tmp2.dot( tan2[ vertexIndex ] );
     w = (test &lt; 0.0) ? -1.0 : 1.0;

     face.vertexTangents[ i ] = new Vector4( tmp.x, tmp.y, tmp.z, w );

   }

 });

 hasTangents = true;

}
</pre>
</div>
</div>
<div class="method inherited"><h4 id="computeVertexNormals">
<button class="show-code">Code</button>
void <strong>computeVertexNormals</strong>() <a class="anchor-link" href="#computeVertexNormals"
              title="Permalink to TextGeometry.computeVertexNormals">#</a></h4>
<div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
void computeVertexNormals() {

 List&lt;Vector3&gt; vertices;


 // create internal buffers for reuse when calling this method repeatedly
 // (otherwise memory allocation / deallocation every frame is big resource hog)
 if ( __tmpVertices == null ) {

   __tmpVertices = [];
   this.vertices.forEach((_) =&gt; __tmpVertices.add(new Vector3.zero()));
   vertices = __tmpVertices;

   faces.forEach((face) {
     face.vertexNormals = new List.generate(face.size, (_) =&gt; new Vector3.zero(), growable: false);
   });

 } else {
   vertices = __tmpVertices;

   var vl = this.vertices.length;
   for ( var v = 0; v &lt; vl; v ++ ) {
     vertices[ v ].setValues( 0.0, 0.0, 0.0 );
   }

 }

 faces.forEach((Face face) {

   face.indices.forEach((idx) {
     vertices[ idx ].add( face.normal );
   });

 });

 vertices.forEach((v) =&gt; v.normalize());

 faces.forEach((Face face) {

   var i = 0;
   face.indices.forEach((idx) {
     face.vertexNormals[ i++ ].setFrom( vertices[ idx ] );
   });

 });
}
</pre>
</div>
</div>
<div class="method inherited"><h4 id="mergeVertices">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/int.html">int</a> <strong>mergeVertices</strong>() <a class="anchor-link" href="#mergeVertices"
              title="Permalink to TextGeometry.mergeVertices">#</a></h4>
<div class="inherited-from">inherited from <a href="../three/Geometry.html">Geometry</a> </div><div class="doc">
<pre class="source">
int mergeVertices() {
 Map verticesMap = {}; // Hashmap for looking up vertice by position coordinates (and making sure they are unique)
 List&lt;Vector3&gt; unique = [];
 List&lt;int&gt; changes = [];

 String key;
 int precisionPoints = 4; // number of decimal points, eg. 4 for epsilon of 0.0001
 num precision = Math.pow( 10, precisionPoints );
 int i, il;
 var abcd = 'abcd', o, k, j, jl, u;

 Vector3 v;
 il = this.vertices.length;

 for( i = 0; i &lt; il; i++) {
   v = this.vertices[i];

   key = [ ( v.x * precision ).round().toStringAsFixed(0),
                         ( v.y * precision ).round().toStringAsFixed(0),
                         ( v.z * precision ).round().toStringAsFixed(0) ].join('_' );

   if ( verticesMap[ key ] == null ) {
     verticesMap[ key ] = i;
     unique.add( v );
     //TODO: pretty sure this is an acceptable change in syntax here:
     //changes[ i ] = unique.length - 1;
     changes.add( unique.length - 1);
   } else {
     //print('Duplicate vertex found. $i could be using  ${verticesMap[key]}');
     //print('changes len ${changes.length} add at i = $i');
     //changes[ i ] = changes[ verticesMap[ key ] ];
     changes.add( changes[ verticesMap[ key ] ] );
   }

 }


 // Start to patch face indices

 faces.forEach((Face face) {
   for (var i = 0; i &lt; face.size; i++) {
     face.indices[i] = changes[ face.indices[i] ];

     /* TODO

     // check dups in (a, b, c, d) and convert to -&gt; face3

     var o = [ face.a, face.b, face.c, face.d ];

     for ( var k = 3; k &gt; 0; k -- ) {

       if ( o.indexOf( face[ abcd[ k ] ] ) != k ) {

         // console.log('faces', face.a, face.b, face.c, face.d, 'dup at', k);

         o.removeAt( k );

         this.faces[ i ] = new THREE.Face3( o[0], o[1], o[2], face.normal, face.color, face.materialIndex );

         for ( j = 0, jl = this.faceVertexUvs.length; j &lt; jl; j ++ ) {

           u = this.faceVertexUvs[ j ][ i ];
           if ( u ) u.removeAt( k );

         }

         this.faces[ i ].vertexColors = face.vertexColors;

         break;
       }

     }*/

   }
 });

 // Use unique set of vertices
 var diff = vertices.length - unique.length;
 vertices = unique;
 return diff;
}
</pre>
</div>
</div>
</div>
        </div>
        <div class="clear"></div>
        </div>
        <div class="footer">
          <div>This page was generated at 2013-11-08 17:35:33.345</div>
        </div>
        <script async src="../client-static.js"></script>
        </body></html>
        
